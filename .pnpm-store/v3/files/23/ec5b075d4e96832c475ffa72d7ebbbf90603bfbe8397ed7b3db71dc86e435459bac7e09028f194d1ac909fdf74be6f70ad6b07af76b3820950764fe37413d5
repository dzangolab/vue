(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function Xe(){const t=e.useAttrs();return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Xe.compatConfig={MODE:3};function an(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}an.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}wt.compatConfig={MODE:3};function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Mt.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Dt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}St.compatConfig={MODE:3};function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Bt.compatConfig={MODE:3};const $e=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Ct=(t,n,l)=>{const a=Tt(t,n,l);return a||K()},Yn=(t,n,l)=>{const a=n.dateInTz?$e(new Date(t),n.dateInTz):K(t);return l?Te(a,!0):a},Tt=(t,n,l)=>{if(!t)return null;const a=l?Te(K(t),!0):K(t);return n?n.exactMatch?Yn(t,n,l):$e(a,n.timezone):a},Vn=t=>{if(!t)return 0;const n=new Date,l=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(n.toLocaleString("en-US",{timeZone:t})),r=a.getTimezoneOffset()/60;return(+l-+a)/(1e3*60*60)-r};var Ne=(t=>(t.month="month",t.year="year",t))(Ne||{}),Ke=(t=>(t.top="top",t.bottom="bottom",t))(Ke||{}),xe=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(xe||{}),De=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(De||{});const _n=["timestamp","date","iso"];var Be=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Be||{}),pe=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(pe||{});function rn(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function In(t){return n=>s.format($e(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const zn=(t,n,l)=>{const a=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=a.map(In(t))}catch{r=a.map(rn(n))}else r=a.map(rn(n));const c=r.slice(0,l),f=r.slice(l+1,r.length);return[r[l]].concat(...f).concat(...c)},$t=(t,n,l)=>{const a=[];for(let r=+t[0];r<=+t[1];r++)a.push({value:+r,text:dn(r,n)});return l?a.reverse():a},ln=(t,n,l)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(c=>{const f=c<10?`0${c}`:c;return new Date(`2017-${f}-01T00:00:00+00:00`)});if(t!==null)try{const c=l==="long"?"LLLL":"LLL";return a.map((f,M)=>{const m=s.format($e(f,"UTC"),c,{locale:t});return{text:m.charAt(0).toUpperCase()+m.substring(1),value:M}})}catch{}const r=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return a.map((c,f)=>{const M=r.format(c);return{text:M.charAt(0).toUpperCase()+M.substring(1),value:f}})},Ln=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],we=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},Hn=t=>({type:"dot",...t??{}}),on=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,At={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ve=t=>t,sn=t=>t===0?t:!t||isNaN(+t)?null:+t,un=t=>t===null,cn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Un=t=>{const n=[],l=a=>a.filter(r=>r);for(let a=0;a<t.length;a+=3){const r=[t[a],t[a+1],t[a+2]];n.push(l(r))}return n},tt=(t,n,l)=>{const a=l!=null,r=n!=null;if(!a&&!r)return!1;const c=+l,f=+n;return a&&r?+t>c||+t<f:a?+t>c:r?+t<f:!1},Je=(t,n)=>Un(t).map(l=>l.map(a=>{const{active:r,disabled:c,isBetween:f,highlighted:M}=n(a);return{...a,active:r,disabled:c,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:c,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:c&&r,dp__cell_in_between:f,"dp--highlighted":M}}})),Ie=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},Wn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function jn(t,n){let l=[...document.querySelectorAll(Wn())];l=l.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=l.indexOf(t);if(a>=0&&(n?a-1>=0:a+1<=l.length))return l[a+(n?-1:1)]}const Pt=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),dn=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Rt=t=>s.format(t,"dd-MM-yyyy"),Nt=t=>Array.isArray(t),ct=(t,n)=>n.get(Rt(t)),Kn=(t,n)=>t?n?n instanceof Map?!!ct(t,n):n(K(t)):!1:!0,Ce=(t,n,l=!1,a)=>{if(t.key===pe.enter||t.key===pe.space)return l&&t.preventDefault(),n();if(a)return a(t)},fn=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].some(t=>navigator.userAgent.includes(t))||navigator.userAgent.includes("Mac")&&"ontouchend"in document,mn=(t,n,l,a,r,c)=>{const f=s.parse(t,n.slice(0,t.length),new Date,{locale:c});return s.isValid(f)&&s.isDate(f)?a||r?f:s.set(f,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},xn=(t,n,l,a,r,c)=>{const f=Array.isArray(l)?l[0]:l;if(typeof n=="string")return mn(t,n,f,a,r,c);if(Array.isArray(n)){let M=null;for(const m of n)if(M=mn(t,m,f,a,r,c),M)break;return M}return typeof n=="function"?n(t):null},K=t=>t?new Date(t):new Date,qn=(t,n,l)=>{if(n){const r=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),M=t.getMinutes().toString().padStart(2,"0"),m=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${c}T${f}:${M}:${m}.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Te=(t,n)=>{const l=K(JSON.parse(JSON.stringify(t))),a=s.set(l,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?s.startOfMonth(a):a},ze=(t,n,l,a)=>{let r=t?K(t):K();return(n||n===0)&&(r=s.setHours(r,+n)),(l||l===0)&&(r=s.setMinutes(r,+l)),(a||a===0)&&(r=s.setSeconds(r,+a)),s.setMilliseconds(r,0)},he=(t,n)=>!t||!n?!1:s.isBefore(Te(t),Te(n)),fe=(t,n)=>!t||!n?!1:s.isEqual(Te(t),Te(n)),ke=(t,n)=>!t||!n?!1:s.isAfter(Te(t),Te(n)),dt=(t,n,l)=>t!=null&&t[0]&&(t!=null&&t[1])?ke(l,t[0])&&he(l,t[1]):t!=null&&t[0]&&n?ke(l,t[0])&&he(l,n)||he(l,t[0])&&ke(l,n):!1,Ee=t=>{const n=s.set(new Date(t),{date:1});return Te(n)},Et=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===n?[a,l]:[a,isNaN(+t[a])?void 0:+t[a]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},qe=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),pn=(t,n)=>{if(n){const l=s.getYear(K(n));if(l>t)return 12;if(l===t)return s.getMonth(K(n))}},gn=(t,n)=>{if(n){const l=s.getYear(K(n));return l<t?-1:l===t?s.getMonth(K(n)):void 0}},Ze=t=>{if(t)return s.getYear(K(t))},yn=(t,n)=>{const l=ke(t,n)?n:t,a=ke(n,t)?n:t;return s.eachDayOfInterval({start:l,end:a})},Gn=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},Ve=(t,n)=>{const l=s.startOfWeek(t,{weekStartsOn:+n}),a=s.endOfWeek(t,{weekStartsOn:+n});return[l,a]},hn=(t,n)=>{const l={hours:s.getHours(K()),minutes:s.getMinutes(K()),seconds:n?s.getSeconds(K()):0};return Object.assign(l,t)},Le=(t,n,l)=>[s.set(K(t),{date:1}),s.set(K(),{month:n,year:l,date:1})],_e=(t,n,l)=>{let a=t?K(t):K();return(n||n===0)&&(a=s.setMonth(a,n)),l&&(a=s.setYear(a,l)),a},kn=(t,n,l,a,r)=>{if(!a||r&&!n||!r&&!l)return!1;const c=r?s.addMonths(t,1):s.subMonths(t,1),f=[s.getMonth(c),s.getYear(c)];return r?!Xn(...f,n):!Qn(...f,l)},Qn=(t,n,l)=>he(...Le(l,t,n))||fe(...Le(l,t,n)),Xn=(t,n,l)=>ke(...Le(l,t,n))||fe(...Le(l,t,n)),bn=(t,n,l,a,r,c,f)=>{if(typeof n=="function"&&!f)return n(t);const M=l?{locale:l}:void 0;return Array.isArray(t)?`${s.format(t[0],c,M)}${r&&!t[1]?"":a}${t[1]?s.format(t[1],c,M):""}`:s.format(t,c,M)},Fe=t=>{if(t)return null;throw new Error(At.prop("partial-range"))},ft=(t,n)=>{if(n)return t();throw new Error(At.prop("range"))},Ot=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,Jn=(t,n)=>s.set(n??K(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Yt=(t,n,l,a)=>{if(!t)return!0;if(a){const r=l==="max"?s.isBefore(t,n):s.isAfter(t,n),c={seconds:0,milliseconds:0};return r||s.isEqual(s.set(t,c),s.set(n,c))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Vt=(t,n,l)=>t?Jn(t,n):K(l??n),vn=(t,n,l,a,r)=>{if(Array.isArray(a)){const f=Vt(t,a[0],n),M=Vt(t,a[1],n);return Yt(a[0],f,l,!!n)&&Yt(a[1],M,l,!!n)&&r}const c=Vt(t,a,n);return Yt(a,c,l,!!n)&&r},_t=t=>s.set(K(),qe(t)),Zn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(l=>s.getYear(K(l))===n).map(l=>s.getMonth(l)):[],wn=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(a=>a.month===n&&a.year===l),It=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Mn=t=>s.format(t,"yyyy-MM-dd"),nt=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Dn=()=>{const t=a=>{nt.menuFocused=a},n=a=>{nt.shiftKeyInMenu!==a&&(nt.shiftKeyInMenu=a)};return{control:e.computed(()=>({shiftKeyInMenu:nt.shiftKeyInMenu,menuFocused:nt.menuFocused})),setMenuFocused:t,setShiftKey:n}},ge=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),zt=e.ref(null),mt=e.ref(!1),Lt=e.ref(!1),Ht=e.ref(!1),Ut=e.ref(!1),Se=e.ref(0),be=e.ref(0),He=()=>{const t=e.computed(()=>mt.value?[...ge.selectionGrid,ge.actionRow].filter(p=>p.length):Lt.value?[...ge.timePicker[0],...ge.timePicker[1],Ut.value?[]:[zt.value],ge.actionRow].filter(p=>p.length):Ht.value?[...ge.monthPicker,ge.actionRow]:[ge.monthYear,...ge.calendar,ge.time,ge.actionRow].filter(p=>p.length)),n=p=>{Se.value=p?Se.value+1:Se.value-1;let R=null;t.value[be.value]&&(R=t.value[be.value][Se.value]),!R&&t.value[be.value+(p?1:-1)]?(be.value=be.value+(p?1:-1),Se.value=p?0:t.value[be.value].length-1):R||(Se.value=p?Se.value-1:Se.value+1)},l=p=>{if(be.value===0&&!p||be.value===t.value.length&&p)return;be.value=p?be.value+1:be.value-1,t.value[be.value]?t.value[be.value]&&!t.value[be.value][Se.value]&&Se.value!==0&&(Se.value=t.value[be.value].length-1):be.value=p?be.value-1:be.value+1},a=p=>{let R=null;t.value[be.value]&&(R=t.value[be.value][Se.value]),R?R.focus({preventScroll:!mt.value}):Se.value=p?Se.value-1:Se.value+1},r=()=>{n(!0),a(!0)},c=()=>{n(!1),a(!1)},f=()=>{l(!1),a(!0)},M=()=>{l(!0),a(!0)},m=(p,R)=>{ge[R]=p},I=(p,R)=>{ge[R]=p},y=()=>{Se.value=0,be.value=0};return{buildMatrix:m,buildMultiLevelMatrix:I,setTimePickerBackRef:p=>{zt.value=p},setSelectionGrid:p=>{mt.value=p,y(),p||(ge.selectionGrid=[])},setTimePicker:(p,R=!1)=>{Lt.value=p,Ut.value=R,y(),p||(ge.timePicker[0]=[],ge.timePicker[1]=[])},setTimePickerElements:(p,R=0)=>{ge.timePicker[R]=p},arrowRight:r,arrowLeft:c,arrowUp:f,arrowDown:M,clearArrowNav:()=>{ge.monthYear=[],ge.calendar=[],ge.time=[],ge.actionRow=[],ge.selectionGrid=[],ge.timePicker[0]=[],ge.timePicker[1]=[],mt.value=!1,Lt.value=!1,Ut.value=!1,Ht.value=!1,y(),zt.value=null},setMonthPicker:p=>{Ht.value=p,y()},refSets:ge}},Sn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Fn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:n=>`Month picker${n?" overlay":""}`,yearPicker:n=>`Year picker${n?" overlay":""}`,timeOverlay:n=>`${n} overlay`,...t??{}}),Bn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,ea=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:Bn(!1)};const a=n?t:{},r=n?a.count??!0:t,c=Bn(r);return Object.assign(l,a,{count:c})},ta=(t,n,l)=>t||(typeof l=="string"?l:n),na=t=>typeof t=="boolean"?t?Sn({}):!1:Sn(t),aa=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},ra=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),la=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),oa=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},sa=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1},...t??{}}),ia=t=>{const n={dates:Array.isArray(t)?t.map(l=>K(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},ua=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},ca=t=>{const n={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...n,...t}:{enabled:t,...n}},da=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Wt=(t,n,l)=>new Map(t.map(a=>{const r=Ct(a,n,l);return[Rt(r),r]})),fa=(t,n)=>t.length?new Map(t.map(l=>{const a=Ct(l.date,n);return[Rt(a),l]})):null,ma=t=>{var n;return{minDate:Tt(t.minDate,t.timezone,t.isSpecific),maxDate:Tt(t.maxDate,t.timezone,t.isSpecific),disabledDates:Nt(t.disabledDates)?Wt(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Nt(t.allowedDates)?Wt(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Nt((n=t.highlight)==null?void 0:n.dates)?Wt(t.highlight.dates,t.timezone):t.highlight,markers:fa(t.markers,t.timezone)}},pa=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},ga=t=>({...Object.fromEntries(Object.keys(t).map(l=>{const a=l,r=t[a],c=typeof t[a]=="string"?{[r]:!0}:Object.fromEntries(r.map(f=>[f,!0]));return[l,c]}))}),ye=t=>{const n=()=>{const ne=t.enableSeconds?":ss":"",Q=t.enableMinutes?":mm":"";return t.is24?`HH${Q}${ne}`:`hh${Q}${ne} aa`},l=()=>{var ne;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((ne=H.value)==null?void 0:ne.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},a=ne=>hn(ne,t.enableSeconds),r=()=>x.value.enabled?t.startTime&&Array.isArray(t.startTime)?[a(t.startTime[0]),a(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?a(t.startTime):null,c=e.computed(()=>ea(t.multiCalendars)),f=e.computed(()=>r()),M=e.computed(()=>Fn(t.ariaLabels)),m=e.computed(()=>ra(t.filters)),I=e.computed(()=>na(t.transitions)),y=e.computed(()=>la(t.actionRow)),N=e.computed(()=>ta(t.previewFormat,t.format,l())),w=e.computed(()=>aa(t.textInput)),A=e.computed(()=>oa(t.inline)),L=e.computed(()=>sa(t.config)),V=e.computed(()=>ia(t.highlight)),H=e.computed(()=>ua(t.weekNumbers)),p=e.computed(()=>da(t.timezone)),R=e.computed(()=>pa(t.multiDates)),T=e.computed(()=>ma({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:V.value,markers:t.markers,timezone:p.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),x=e.computed(()=>ca(t.range)),Z=e.computed(()=>ga(t.ui));return{defaultedTransitions:I,defaultedMultiCalendars:c,defaultedStartTime:f,defaultedAriaLabels:M,defaultedFilters:m,defaultedActionRow:y,defaultedPreviewFormat:N,defaultedTextInput:w,defaultedInline:A,defaultedConfig:L,defaultedHighlight:V,defaultedWeekNumbers:H,defaultedRange:x,propDates:T,defaultedTz:p,defaultedMultiDates:R,defaultedUI:Z,getDefaultPattern:l,getDefaultStartTime:r}},ya=(t,n,l)=>{const a=e.ref(),{defaultedTextInput:r,defaultedRange:c,defaultedTz:f,defaultedMultiDates:M,getDefaultPattern:m}=ye(n),I=e.ref(""),y=e.toRef(n,"format"),N=e.toRef(n,"formatLocale");e.watch(a,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",a.value,v(!0))},{deep:!0}),e.watch(c,(i,ee)=>{i.enabled!==ee.enabled&&(a.value=null)}),e.watch(y,()=>{q()});const w=i=>f.value.timezone&&f.value.convertModel?$e(i,f.value.timezone):i,A=i=>{if(f.value.timezone&&f.value.convertModel){const ee=Vn(f.value.timezone);return s.addHours(i,ee)}return i},L=(i,ee,ue=!1)=>bn(i,n.format,n.formatLocale,r.value.rangeSeparator,n.modelAuto,ee??m(),ue),V=i=>i?n.modelType?F(i):{hours:s.getHours(i),minutes:s.getMinutes(i),seconds:n.enableSeconds?s.getSeconds(i):0}:null,H=i=>n.modelType?F(i):{month:s.getMonth(i),year:s.getYear(i)},p=i=>Array.isArray(i)?M.value.enabled?i.map(ee=>R(ee,s.setYear(K(),ee))):ft(()=>[s.setYear(K(),i[0]),i[1]?s.setYear(K(),i[1]):Fe(c.value.partialRange)],c.value.enabled):s.setYear(K(),+i),R=(i,ee)=>(typeof i=="string"||typeof i=="number")&&n.modelType?C(i):ee,T=i=>Array.isArray(i)?[R(i[0],ze(null,+i[0].hours,+i[0].minutes,i[0].seconds)),R(i[1],ze(null,+i[1].hours,+i[1].minutes,i[1].seconds))]:R(i,ze(null,i.hours,i.minutes,i.seconds)),x=i=>{const ee=s.set(K(),{date:1});return Array.isArray(i)?M.value.enabled?i.map(ue=>R(ue,_e(ee,+ue.month,+ue.year))):ft(()=>[R(i[0],_e(ee,+i[0].month,+i[0].year)),R(i[1],i[1]?_e(ee,+i[1].month,+i[1].year):Fe(c.value.partialRange))],c.value.enabled):R(i,_e(ee,+i.month,+i.year))},Z=i=>{if(Array.isArray(i))return i.map(ee=>C(ee));throw new Error(At.dateArr("multi-dates"))},ne=i=>{if(Array.isArray(i)&&c.value.enabled){const ee=i[0],ue=i[1];return[K(Array.isArray(ee)?ee[0]:null),K(Array.isArray(ue)?ue[0]:null)]}return K(i[0])},Q=i=>n.modelAuto?Array.isArray(i)?[C(i[0]),C(i[1])]:n.autoApply?[C(i)]:[C(i),null]:Array.isArray(i)?ft(()=>i[1]?[C(i[0]),i[1]?C(i[1]):Fe(c.value.partialRange)]:[C(i[0])],c.value.enabled):C(i),$=()=>{Array.isArray(a.value)&&c.value.enabled&&a.value.length===1&&a.value.push(Fe(c.value.partialRange))},X=()=>{const i=a.value;return[F(i[0]),i[1]?F(i[1]):Fe(c.value.partialRange)]},O=()=>a.value[1]?X():F(ve(a.value[0])),G=()=>(a.value||[]).map(i=>F(i)),re=(i=!1)=>(i||$(),n.modelAuto?O():M.value.enabled?G():Array.isArray(a.value)?ft(()=>X(),c.value.enabled):F(ve(a.value))),se=i=>!i||Array.isArray(i)&&!i.length?null:n.timePicker?T(ve(i)):n.monthPicker?x(ve(i)):n.yearPicker?p(ve(i)):M.value.enabled?Z(ve(i)):n.weekPicker?ne(ve(i)):Q(ve(i)),b=i=>{const ee=se(i);Ot(ve(ee))?(a.value=ve(ee),q()):(a.value=null,I.value="")},U=()=>{const i=ee=>s.format(ee,r.value.format);return`${i(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?i(a.value[1]):""}`},J=()=>l.value&&a.value?Array.isArray(a.value)?U():s.format(a.value,r.value.format):L(a.value),h=()=>a.value?M.value.enabled?a.value.map(i=>L(i)).join("; "):r.value.enabled&&typeof r.value.format=="string"?J():L(a.value):"",q=()=>{!n.format||typeof n.format=="string"||r.value.enabled&&typeof r.value.format=="string"?I.value=h():I.value=n.format(a.value)},C=i=>{if(n.utc){const ee=new Date(i);return n.utc==="preserve"?new Date(ee.getTime()+ee.getTimezoneOffset()*6e4):ee}return n.modelType?_n.includes(n.modelType)?w(new Date(i)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?w(s.parse(i,m(),new Date,{locale:N.value})):w(s.parse(i,n.modelType,new Date,{locale:N.value})):w(new Date(i))},F=i=>i?n.utc?qn(i,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+A(i):n.modelType==="iso"?A(i).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?L(A(i)):L(A(i),n.modelType,!0):A(i):"",le=(i,ee=!1,ue=!1)=>{if(ue)return i;if(t("update:model-value",i),f.value.emitTimezone&&ee){const B=Array.isArray(i)?i.map(ce=>$e(ve(ce),f.value.emitTimezone)):$e(ve(i),f.value.emitTimezone);t("update:model-timezone-value",B)}},d=i=>Array.isArray(a.value)?M.value.enabled?a.value.map(ee=>i(ee)):[i(a.value[0]),a.value[1]?i(a.value[1]):Fe(c.value.partialRange)]:i(ve(a.value)),g=()=>{if(Array.isArray(a.value)){const i=Ve(a.value[0],n.weekStart),ee=a.value[1]?Ve(a.value[1],n.weekStart):[];return[i.map(ue=>K(ue)),ee.map(ue=>K(ue))]}return Ve(a.value,n.weekStart).map(i=>K(i))},z=(i,ee)=>le(ve(d(i)),!1,ee),u=i=>{const ee=g();return i?ee:t("update:model-value",g())},v=(i=!1)=>(i||q(),n.monthPicker?z(H,i):n.timePicker?z(V,i):n.yearPicker?z(s.getYear,i):n.weekPicker?u(i):le(re(i),!0,i));return{inputValue:I,internalModelValue:a,checkBeforeEmit:()=>a.value?c.value.enabled?c.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:b,formatInputValue:q,emitModelValue:v}},ha=(t,n)=>{const{defaultedFilters:l,propDates:a}=ye(t),{validateMonthYearInRange:r}=We(t),c=(y,N)=>{let w=y;return l.value.months.includes(s.getMonth(w))?(w=N?s.addMonths(y,1):s.subMonths(y,1),c(w,N)):w},f=(y,N)=>{let w=y;return l.value.years.includes(s.getYear(w))?(w=N?s.addYears(y,1):s.subYears(y,1),f(w,N)):w},M=(y,N=!1)=>{const w=s.set(K(),{month:t.month,year:t.year});let A=y?s.addMonths(w,1):s.subMonths(w,1);t.disableYearSelect&&(A=s.setYear(A,t.year));let L=s.getMonth(A),V=s.getYear(A);l.value.months.includes(L)&&(A=c(A,y),L=s.getMonth(A),V=s.getYear(A)),l.value.years.includes(V)&&(A=f(A,y),V=s.getYear(A)),r(L,V,y,t.preventMinMaxNavigation)&&m(L,V,N)},m=(y,N,w)=>{n("update-month-year",{month:y,year:N,fromNav:w})},I=e.computed(()=>y=>kn(s.set(K(),{month:t.month,year:t.year}),a.value.maxDate,a.value.minDate,t.preventMinMaxNavigation,y));return{handleMonthYearChange:M,isDisabled:I,updateMonthYear:m}},pt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Oe={...pt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},ka=["title"],ba=["disabled"],va=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Oe},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,a=t,{defaultedActionRow:r,defaultedPreviewFormat:c,defaultedMultiCalendars:f,defaultedTextInput:M,defaultedInline:m,defaultedRange:I,defaultedMultiDates:y}=ye(a),{isTimeValid:N,isMonthValid:w}=We(a),{buildMatrix:A}=He(),L=e.ref(null),V=e.ref(null),H=e.ref(!1),p=e.ref({}),R=e.ref(null),T=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&A([we(L),we(V)],"actionRow"),x(),window.addEventListener("resize",x)}),e.onUnmounted(()=>{window.removeEventListener("resize",x)});const x=()=>{H.value=!1,setTimeout(()=>{var J,h;const b=(J=R.value)==null?void 0:J.getBoundingClientRect(),U=(h=T.value)==null?void 0:h.getBoundingClientRect();b&&U&&(p.value.maxWidth=`${U.width-b.width-20}px`),H.value=!0},0)},Z=e.computed(()=>I.value.enabled&&!I.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),ne=e.computed(()=>!N.value(a.internalModelValue)||!w.value(a.internalModelValue)||!Z.value),Q=()=>{const b=c.value;return a.timePicker||a.monthPicker,b(ve(a.internalModelValue))},$=()=>{const b=a.internalModelValue;return f.value.count>0?`${X(b[0])} - ${X(b[1])}`:[X(b[0]),X(b[1])]},X=b=>bn(b,c.value,a.formatLocale,M.value.rangeSeparator,a.modelAuto,c.value),O=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof c.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?$():y.value.enabled?a.internalModelValue.map(b=>`${X(b)}`):a.modelAuto?`${X(a.internalModelValue[0])}`:`${X(a.internalModelValue[0])} -`:X(a.internalModelValue):Q()),G=()=>y.value.enabled?"; ":" - ",re=e.computed(()=>Array.isArray(O.value)?O.value.join(G()):O.value),se=()=>{N.value(a.internalModelValue)&&w.value(a.internalModelValue)&&Z.value?l("select-date"):l("invalid-select")};return(b,U)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:T,class:"dp__action_row"},[b.$slots["action-row"]?e.renderSlot(b.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:b.internalModelValue,disabled:ne.value,selectDate:()=>b.$emit("select-date"),closePicker:()=>b.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(r).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:re.value,style:e.normalizeStyle(p.value)},[b.$slots["action-preview"]&&H.value?e.renderSlot(b.$slots,"action-preview",{key:0,value:b.internalModelValue}):e.createCommentVNode("",!0),!b.$slots["action-preview"]&&H.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(re.value),1)],64)):e.createCommentVNode("",!0)],12,ka)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:R,class:"dp__action_buttons","data-dp-element":"action-row"},[b.$slots["action-buttons"]?e.renderSlot(b.$slots,"action-buttons",{key:0,value:b.internalModelValue}):e.createCommentVNode("",!0),b.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(m).enabled&&e.unref(r).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:L,type:"button",class:"dp__action_button dp__action_cancel",onClick:U[0]||(U[0]=J=>b.$emit("close-picker")),onKeydown:U[1]||(U[1]=J=>e.unref(Ce)(J,()=>b.$emit("close-picker")))},e.toDisplayString(b.cancelText),545)):e.createCommentVNode("",!0),e.unref(r).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:U[2]||(U[2]=J=>b.$emit("select-now")),onKeydown:U[3]||(U[3]=J=>e.unref(Ce)(J,()=>b.$emit("select-now")))},e.toDisplayString(b.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(r).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:V,type:"button",class:"dp__action_button dp__action_select",disabled:ne.value,"data-test":"select-button",onKeydown:U[4]||(U[4]=J=>e.unref(Ce)(J,()=>se())),onClick:se},e.toDisplayString(b.selectText),41,ba)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),wa=["role","aria-label","tabindex"],Ma={class:"dp__selection_grid_header"},Da=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Sa=["aria-label"],at=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:c}=He(),f=l,M=t,{defaultedAriaLabels:m,defaultedTextInput:I,defaultedConfig:y}=ye(M),{hideNavigationButtons:N}=ht(),w=e.ref(!1),A=e.ref(null),L=e.ref(null),V=e.ref([]),H=e.ref(),p=e.ref(null),R=e.ref(0),T=e.ref(null);e.onBeforeUpdate(()=>{A.value=null}),e.onMounted(()=>{e.nextTick().then(()=>G()),M.noOverlayFocus||Z(),x(!0)}),e.onUnmounted(()=>x(!1));const x=d=>{var g;M.arrowNavigation&&((g=M.headerRefs)!=null&&g.length?c(d):a(d))},Z=()=>{var g;const d=we(L);d&&(I.value.enabled||(A.value?(g=A.value)==null||g.focus({preventScroll:!0}):d.focus({preventScroll:!0})),w.value=d.clientHeight<d.scrollHeight)},ne=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!M.useRelative,"dp--overlay-relative":M.useRelative})),Q=e.computed(()=>M.useRelative?{height:`${M.height}px`,width:"var(--dp-menu-min-width)"}:void 0),$=e.computed(()=>({dp__overlay_col:!0})),X=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:w.value,dp__button_bottom:M.isLast})),O=e.computed(()=>{var d,g;return{dp__overlay_container:!0,dp__container_flex:((d=M.items)==null?void 0:d.length)<=6,dp__container_block:((g=M.items)==null?void 0:g.length)>6}});e.watch(()=>M.items,()=>G(!1),{deep:!0});const G=(d=!0)=>{e.nextTick().then(()=>{const g=we(A),z=we(L),u=we(p),v=we(T),Y=u?u.getBoundingClientRect().height:0;z&&(z.getBoundingClientRect().height?R.value=z.getBoundingClientRect().height-Y:R.value=y.value.modeHeight-Y),g&&v&&d&&(v.scrollTop=g.offsetTop-v.offsetTop-(R.value/2-g.getBoundingClientRect().height)-Y)})},re=d=>{d.disabled||f("selected",d.value)},se=()=>{f("toggle"),f("reset-flow")},b=()=>{M.escClose&&se()},U=(d,g,z,u)=>{d&&((g.active||g.value===M.focusValue)&&(A.value=d),M.arrowNavigation&&(Array.isArray(V.value[z])?V.value[z][u]=d:V.value[z]=[d],J()))},J=()=>{var g,z;const d=(g=M.headerRefs)!=null&&g.length?[M.headerRefs].concat(V.value):V.value.concat([M.skipButtonRef?[]:[p.value]]);r(ve(d),(z=M.headerRefs)!=null&&z.length?"monthPicker":"selectionGrid")},h=d=>{M.arrowNavigation||Ie(d,y.value,!0)},q=d=>{H.value=d,f("hover-value",d)},C=()=>{if(se(),!M.isLast){const d=Pt(M.menuWrapRef??null,"action-row");if(d){const g=cn(d);g==null||g.focus()}}},F=d=>{switch(d.key){case pe.esc:return b();case pe.arrowLeft:return h(d);case pe.arrowRight:return h(d);case pe.arrowUp:return h(d);case pe.arrowDown:return h(d);default:return}},le=d=>{if(d.key===pe.enter)return se();if(d.key===pe.tab)return C()};return n({focusGrid:Z}),(d,g)=>{var z;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:L,class:e.normalizeClass(ne.value),style:e.normalizeStyle(Q.value),role:d.useRelative?void 0:"dialog","aria-label":d.overlayLabel,tabindex:d.useRelative?void 0:"0",onKeydown:F,onClick:g[0]||(g[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:T,class:e.normalizeClass(O.value),style:e.normalizeStyle({"--dp-overlay-height":`${R.value}px`}),role:"grid"},[e.createElementVNode("div",Ma,[e.renderSlot(d.$slots,"header")]),d.$slots.overlay?e.renderSlot(d.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(d.items,(u,v)=>(e.openBlock(),e.createElementBlock("div",{key:v,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:d.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u,(Y,i)=>(e.openBlock(),e.createElementBlock("div",{key:Y.value,ref_for:!0,ref:ee=>U(ee,Y,v,i),role:"gridcell",class:e.normalizeClass($.value),"aria-selected":Y.active||void 0,"aria-disabled":Y.disabled||void 0,tabindex:"0","data-test":Y.text,onClick:e.withModifiers(ee=>re(Y),["prevent"]),onKeydown:ee=>e.unref(Ce)(ee,()=>re(Y),!0),onMouseover:ee=>q(Y.value)},[e.createElementVNode("div",{class:e.normalizeClass(Y.className)},[d.$slots.item?e.renderSlot(d.$slots,"item",{key:0,item:Y}):e.createCommentVNode("",!0),d.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Y.text),1)],64))],2)],42,Da))),128))],2))),128))],6),d.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:p,type:"button","aria-label":(z=e.unref(m))==null?void 0:z.toggleOverlay,class:e.normalizeClass(X.value),tabindex:"0",onClick:se,onKeydown:le},[e.renderSlot(d.$slots,"button-icon")],42,Sa)),[[e.vShow,!e.unref(N)(d.hideNavigation,d.type)]]):e.createCommentVNode("",!0)],46,wa)}}}),gt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),a=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(r,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(f,M)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:e.normalizeClass(a.value)},[e.renderSlot(r.$slots,"default",{instance:f,index:M})],2))),128))],2))}}),Ba=["data-dp-element","aria-label","aria-disabled"],rt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,a=e.ref(null);return e.onMounted(()=>l("set-ref",a)),(r,c)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:c[0]||(c[0]=f=>r.$emit("activate")),onKeydown:c[1]||(c[1]=f=>e.unref(Ce)(f,()=>r.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[e.renderSlot(r.$slots,"default")],2)],40,Ba))}}),Ca=["aria-label","data-test"],Cn=e.defineComponent({__name:"YearModePicker",props:{...Oe,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,a=t,{showRightIcon:r,showLeftIcon:c}=ht(),{defaultedConfig:f,defaultedMultiCalendars:M,defaultedAriaLabels:m,defaultedTransitions:I,defaultedUI:y}=ye(a),{showTransition:N,transitionName:w}=lt(I),A=e.ref(!1),L=(p=!1,R)=>{A.value=!A.value,l("toggle-year-picker",{flow:p,show:R})},V=p=>{A.value=!1,l("year-select",p)},H=(p=!1)=>{l("handle-year",p)};return(p,R)=>{var T,x,Z,ne,Q;return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:e.normalizeClass(["dp--year-mode-picker",{"dp--hidden-el":A.value}])},[e.unref(c)(e.unref(M),t.instance)?(e.openBlock(),e.createBlock(rt,{key:0,ref:"mpPrevIconRef","aria-label":(T=e.unref(m))==null?void 0:T.prevYear,disabled:t.isDisabled(!1),class:e.normalizeClass((x=e.unref(y))==null?void 0:x.navBtnPrev),onActivate:R[0]||(R[0]=$=>H(!1))},{default:e.withCtx(()=>[p.$slots["arrow-left"]?e.renderSlot(p.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${(Z=e.unref(m))==null?void 0:Z.openYearsOverlay}`,"data-test":`year-mode-btn-${t.instance}`,onClick:R[1]||(R[1]=()=>L(!1)),onKeydown:R[2]||(R[2]=e.withKeys(()=>L(!1),["enter"]))},[p.$slots.year?e.renderSlot(p.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),p.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ca),e.unref(r)(e.unref(M),t.instance)?(e.openBlock(),e.createBlock(rt,{key:1,ref:"mpNextIconRef","aria-label":(ne=e.unref(m))==null?void 0:ne.nextYear,disabled:t.isDisabled(!0),class:e.normalizeClass((Q=e.unref(y))==null?void 0:Q.navBtnNext),onActivate:R[3]||(R[3]=$=>H(!0))},{default:e.withCtx(()=>[p.$slots["arrow-right"]?e.renderSlot(p.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0)],2),e.createVNode(e.Transition,{name:e.unref(w)(t.showYearPicker),css:e.unref(N)},{default:e.withCtx(()=>{var $,X;return[t.showYearPicker?(e.openBlock(),e.createBlock(at,{key:0,items:t.items,"text-input":p.textInput,"esc-close":p.escClose,config:p.config,"is-last":p.autoApply&&!e.unref(f).keepActionRow,"hide-navigation":p.hideNavigation,"aria-labels":p.ariaLabels,"overlay-label":(X=($=e.unref(m))==null?void 0:$.yearPicker)==null?void 0:X.call($,!0),type:"year",onToggle:L,onSelected:R[4]||(R[4]=O=>V(O))},e.createSlots({"button-icon":e.withCtx(()=>[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:O})=>[e.renderSlot(p.$slots,"year-overlay-value",{text:O.text,value:O.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64)}}}),jt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(a=>fe(t,a))){const a=n.value.filter(r=>!fe(r,t));n.value=a.length?a:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},Kt=(t,n,l)=>{let a=t.value?t.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?he(n,a[0])?(a.unshift(n),l("range-start",a[0]),l("range-start",a[1])):(a[1]=n,l("range-end",n)):(a=[n],l("range-start",n)),a},yt=(t,n,l,a)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&a&&l&&n("auto-apply"))},Tn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>$e(K(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=$e(K(t.value),t.timezone))},$n=(t,n,l,a)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(ke(t,n.value[0])||fe(t,n.value[0]))?[n.value[0],t]:a.value.fixedEnd&&(he(t,n.value[1])||fe(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],An=({multiCalendars:t,range:n,highlight:l,propDates:a,calendars:r,modelValue:c,props:f,filters:M,year:m,month:I,emit:y})=>{const N=e.computed(()=>$t(f.yearRange,f.locale,f.reverseYears)),w=e.ref([!1]),A=e.computed(()=>(O,G)=>{const re=s.set(Ee(new Date),{month:I.value(O),year:m.value(O)}),se=G?s.endOfYear(re):s.startOfYear(re);return kn(se,a.value.maxDate,a.value.minDate,f.preventMinMaxNavigation,G)}),L=()=>Array.isArray(c.value)&&t.value.solo&&c.value[1],V=()=>{for(let O=0;O<t.value.count;O++)if(O===0)r.value[O]=r.value[0];else if(O===t.value.count-1&&L())r.value[O]={month:s.getMonth(c.value[1]),year:s.getYear(c.value[1])};else{const G=s.set(K(),r.value[O-1]);r.value[O]={month:s.getMonth(G),year:s.getYear(s.addYears(G,1))}}},H=O=>{if(!O)return V();const G=s.set(K(),r.value[O]);return r.value[0].year=s.getYear(s.subYears(G,t.value.count-1)),V()},p=(O,G)=>{const re=s.differenceInYears(G,O);return n.value.showLastInRange&&re>1?G:O},R=O=>f.focusStartDate||t.value.solo?O[0]:O[1]?p(O[0],O[1]):O[0],T=()=>{if(c.value){const O=Array.isArray(c.value)?R(c.value):c.value;r.value[0]={month:s.getMonth(O),year:s.getYear(O)}}},x=()=>{T(),t.value.count&&V()};e.watch(c,(O,G)=>{f.isTextInputDate&&JSON.stringify(O??{})!==JSON.stringify(G??{})&&x()}),e.onMounted(()=>{x()});const Z=(O,G)=>{r.value[G].year=O,y("update-month-year",{instance:G,year:O,month:r.value[G].month}),t.value.count&&!t.value.solo&&H(G)},ne=e.computed(()=>O=>Je(N.value,G=>{var U;const re=m.value(O)===G.value,se=tt(G.value,Ze(a.value.minDate),Ze(a.value.maxDate))||((U=M.value.years)==null?void 0:U.includes(m.value(O))),b=It(l.value,G.value);return{active:re,disabled:se,highlighted:b}})),Q=(O,G)=>{Z(O,G),X(G)},$=(O,G=!1)=>{if(!A.value(O,G)){const re=G?m.value(O)+1:m.value(O)-1;Z(re,O)}},X=(O,G=!1,re)=>{G||y("reset-flow"),re!==void 0?w.value[O]=re:w.value[O]=!w.value[O],w.value[O]?y("overlay-toggle",{open:!0,overlay:De.year}):(y("overlay-closed"),y("overlay-toggle",{open:!1,overlay:De.year}))};return{isDisabled:A,groupedYears:ne,showYearPicker:w,selectYear:Z,toggleYearPicker:X,handleYearSelect:Q,handleYear:$}},Ta=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:c,defaultedRange:f,defaultedHighlight:M,propDates:m,defaultedTz:I,defaultedFilters:y,defaultedMultiDates:N}=ye(t),w=()=>{t.isTextInputDate&&x(s.getYear(K(t.startDate)),0)},{modelValue:A,year:L,month:V,calendars:H}=ot(t,n,w),p=e.computed(()=>ln(t.formatLocale,t.locale,t.monthNameFormat)),R=e.ref(null),{checkMinMaxRange:T}=We(t),{selectYear:x,groupedYears:Z,showYearPicker:ne,toggleYearPicker:Q,handleYearSelect:$,handleYear:X,isDisabled:O}=An({modelValue:A,multiCalendars:l,range:f,highlight:M,calendars:H,year:L,propDates:m,month:V,filters:y,props:t,emit:n});e.onMounted(()=>{t.startDate&&(A.value&&t.focusStartDate||!A.value)&&x(s.getYear(K(t.startDate)),0)});const G=v=>v?{month:s.getMonth(v),year:s.getYear(v)}:{month:null,year:null},re=()=>A.value?Array.isArray(A.value)?A.value.map(v=>G(v)):G(A.value):G(),se=(v,Y)=>{const i=H.value[v],ee=re();return Array.isArray(ee)?ee.some(ue=>ue.year===(i==null?void 0:i.year)&&ue.month===Y):(i==null?void 0:i.year)===ee.year&&Y===ee.month},b=(v,Y,i)=>{var ue,B;const ee=re();return Array.isArray(ee)?L.value(Y)===((ue=ee[i])==null?void 0:ue.year)&&v===((B=ee[i])==null?void 0:B.month):!1},U=(v,Y)=>{if(f.value.enabled){const i=re();if(Array.isArray(A.value)&&Array.isArray(i)){const ee=b(v,Y,0)||b(v,Y,1),ue=_e(Ee(K()),v,L.value(Y));return dt(A.value,R.value,ue)&&!ee}return!1}return!1},J=e.computed(()=>v=>Je(p.value,Y=>{var ce;const i=se(v,Y.value),ee=tt(Y.value,pn(L.value(v),m.value.minDate),gn(L.value(v),m.value.maxDate))||Zn(m.value.disabledDates,L.value(v)).includes(Y.value)||((ce=y.value.months)==null?void 0:ce.includes(Y.value)),ue=U(Y.value,v),B=wn(M.value,Y.value,L.value(v));return{active:i,disabled:ee,isBetween:ue,highlighted:B}})),h=(v,Y)=>_e(Ee(K()),v,L.value(Y)),q=(v,Y)=>{const i=A.value?A.value:Ee(new Date);A.value=_e(i,v,L.value(Y)),n("auto-apply"),n("update-flow-step")},C=(v,Y)=>{const i=h(v,Y);f.value.fixedEnd||f.value.fixedStart?A.value=$n(i,A,n,f):A.value?T(i,A.value)&&(A.value=Kt(A,h(v,Y),n)):A.value=[h(v,Y)],e.nextTick().then(()=>{yt(A.value,n,t.autoApply,t.modelAuto)})},F=(v,Y)=>{jt(h(v,Y),A,N.value.limit),n("auto-apply",!0)},le=(v,Y)=>(H.value[Y].month=v,g(Y,H.value[Y].year,v),N.value.enabled?F(v,Y):f.value.enabled?C(v,Y):q(v,Y)),d=(v,Y)=>{x(v,Y),g(Y,v,null)},g=(v,Y,i)=>{let ee=i;if(!ee&&ee!==0){const ue=re();ee=Array.isArray(ue)?ue[v].month:ue.month}n("update-month-year",{instance:v,year:Y,month:ee})};return{groupedMonths:J,groupedYears:Z,year:L,isDisabled:O,defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:c,showYearPicker:ne,modelValue:A,presetDate:(v,Y)=>{Tn({value:v,modelValue:A,range:f.value.enabled,timezone:Y?void 0:I.value.timezone}),n("auto-apply")},setHoverDate:(v,Y)=>{R.value=h(v,Y)},selectMonth:le,selectYear:d,toggleYearPicker:Q,handleYearSelect:$,handleYear:X,getModelMonthYear:re}},$a=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Oe},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=e.useSlots(),c=Ae(r,"yearMode"),f=t;e.onMounted(()=>{f.shadow||a("mount",null)});const{groupedMonths:M,groupedYears:m,year:I,isDisabled:y,defaultedMultiCalendars:N,defaultedConfig:w,showYearPicker:A,modelValue:L,presetDate:V,setHoverDate:H,selectMonth:p,selectYear:R,toggleYearPicker:T,handleYearSelect:x,handleYear:Z,getModelMonthYear:ne}=Ta(f,a);return n({getSidebarProps:()=>({modelValue:L,year:I,getModelMonthYear:ne,selectMonth:p,selectYear:R,handleYear:Z}),presetDate:V,toggleYearPicker:$=>T(0,$)}),($,X)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":e.unref(N).count,collapse:$.collapse,stretch:""},{default:e.withCtx(({instance:O})=>[$.$slots["top-extra"]?e.renderSlot($.$slots,"top-extra",{key:0,value:$.internalModelValue}):e.createCommentVNode("",!0),$.$slots["month-year"]?e.renderSlot($.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(I),months:e.unref(M)(O),years:e.unref(m)(O),selectMonth:e.unref(p),selectYear:e.unref(R),instance:O}))):(e.openBlock(),e.createBlock(at,{key:2,items:e.unref(M)(O),"arrow-navigation":$.arrowNavigation,"is-last":$.autoApply&&!e.unref(w).keepActionRow,"esc-close":$.escClose,height:e.unref(w).modeHeight,config:$.config,"no-overlay-focus":!!($.noOverlayFocus||$.textInput),"use-relative":"",type:"month",onSelected:G=>e.unref(p)(G,O),onHoverValue:G=>e.unref(H)(G,O)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Cn,e.mergeProps($.$props,{items:e.unref(m)(O),instance:O,"show-year-picker":e.unref(A)[O],year:e.unref(I)(O),"is-disabled":G=>e.unref(y)(O,G),onHandleYear:G=>e.unref(Z)(O,G),onYearSelect:G=>e.unref(x)(G,O),onToggleYearPicker:G=>e.unref(T)(O,G==null?void 0:G.flow,G==null?void 0:G.show)}),e.createSlots({_:2},[e.renderList(e.unref(c),(G,re)=>({name:G,fn:e.withCtx(se=>[e.renderSlot($.$slots,G,e.normalizeProps(e.guardReactiveProps(se)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[$.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:G})=>[e.renderSlot($.$slots,"month-overlay-value",{text:G.text,value:G.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Aa=(t,n)=>{const l=()=>{t.isTextInputDate&&(y.value=s.getYear(K(t.startDate)))},{modelValue:a}=ot(t,n,l),r=e.ref(null),{defaultedHighlight:c,defaultedMultiDates:f,defaultedFilters:M,defaultedRange:m,propDates:I}=ye(t),y=e.ref();e.onMounted(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&(y.value=s.getYear(K(t.startDate)))});const N=p=>Array.isArray(a.value)?a.value.some(R=>s.getYear(R)===p):a.value?s.getYear(a.value)===p:!1,w=p=>m.value.enabled&&Array.isArray(a.value)?dt(a.value,r.value,L(p)):!1,A=e.computed(()=>Je($t(t.yearRange,t.locale,t.reverseYears),p=>{const R=N(p.value),T=tt(p.value,Ze(I.value.minDate),Ze(I.value.maxDate))||M.value.years.includes(p.value),x=w(p.value)&&!R,Z=It(c.value,p.value);return{active:R,disabled:T,isBetween:x,highlighted:Z}})),L=p=>s.setYear(Ee(s.startOfYear(new Date)),p);return{groupedYears:A,modelValue:a,focusYear:y,setHoverValue:p=>{r.value=s.setYear(Ee(new Date),p)},selectYear:p=>{var R;if(n("update-month-year",{instance:0,year:p}),f.value.enabled)return a.value?Array.isArray(a.value)&&(((R=a.value)==null?void 0:R.map(x=>s.getYear(x))).includes(p)?a.value=a.value.filter(x=>s.getYear(x)!==p):a.value.push(s.setYear(Te(K()),p))):a.value=[s.setYear(Te(s.startOfYear(K())),p)],n("auto-apply",!0);m.value.enabled?(a.value=Kt(a,L(p),n),e.nextTick().then(()=>{yt(a.value,n,t.autoApply,t.modelAuto)})):(a.value=L(p),n("auto-apply"))}}},Pa=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Oe},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,{groupedYears:c,modelValue:f,focusYear:M,selectYear:m,setHoverValue:I}=Aa(r,a),{defaultedConfig:y}=ye(r);return n({getSidebarProps:()=>({modelValue:f,selectYear:m})}),(w,A)=>(e.openBlock(),e.createElementBlock("div",null,[w.$slots["top-extra"]?e.renderSlot(w.$slots,"top-extra",{key:0,value:w.internalModelValue}):e.createCommentVNode("",!0),w.$slots["month-year"]?e.renderSlot(w.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(c),selectYear:e.unref(m)}))):(e.openBlock(),e.createBlock(at,{key:2,items:e.unref(c),"is-last":w.autoApply&&!e.unref(y).keepActionRow,height:e.unref(y).modeHeight,config:w.config,"no-overlay-focus":!!(w.noOverlayFocus||w.textInput),"focus-value":e.unref(M),type:"year","use-relative":"",onSelected:e.unref(m),onHoverValue:e.unref(I)},e.createSlots({_:2},[w.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:L})=>[e.renderSlot(w.$slots,"year-overlay-value",{text:L.text,value:L.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Ra={key:0,class:"dp__time_input"},Na=["data-test","aria-label","onKeydown","onClick","onMousedown"],Ea=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Oa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ya=["aria-label","disabled","data-test","onKeydown","onClick"],Va=["data-test","aria-label","onKeydown","onClick","onMousedown"],_a=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ia=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),za={key:0},La=["aria-label"],Ha=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Oe},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{setTimePickerElements:c,setTimePickerBackRef:f}=He(),{defaultedAriaLabels:M,defaultedTransitions:m,defaultedFilters:I,defaultedConfig:y,defaultedRange:N}=ye(r),{transitionName:w,showTransition:A}=lt(m),L=e.reactive({hours:!1,minutes:!1,seconds:!1}),V=e.ref("AM"),H=e.ref(null),p=e.ref([]),R=e.ref(),T=e.ref(!1);e.onMounted(()=>{a("mounted")});const x=o=>s.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:r.enableSeconds?o.seconds:0,milliseconds:0}),Z=e.computed(()=>o=>h(o,r[o])||Q(o,r[o])),ne=e.computed(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),Q=(o,E)=>N.value.enabled&&!N.value.disableTimeRangeValidation?!r.validateTime(o,E):!1,$=(o,E)=>{if(N.value.enabled&&!N.value.disableTimeRangeValidation){const P=E?+r[`${o}Increment`]:-+r[`${o}Increment`],W=r[o]+P;return!r.validateTime(o,W)}return!1},X=e.computed(()=>o=>!d(+r[o]+ +r[`${o}Increment`],o)||$(o,!0)),O=e.computed(()=>o=>!d(+r[o]-+r[`${o}Increment`],o)||$(o,!1)),G=(o,E)=>s.add(s.set(K(),o),E),re=(o,E)=>s.sub(s.set(K(),o),E),se=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),b=e.computed(()=>{const o=[{type:"hours"}];return r.enableMinutes&&o.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&o.push({type:"",separator:!0},{type:"seconds"}),o}),U=e.computed(()=>b.value.filter(o=>!o.separator)),J=e.computed(()=>o=>{if(o==="hours"){const E=i(+r.hours);return{text:E<10?`0${E}`:`${E}`,value:E}}return{text:r[o]<10?`0${r[o]}`:`${r[o]}`,value:r[o]}}),h=(o,E)=>{var W;if(!r.disabledTimesConfig)return!1;const P=r.disabledTimesConfig(r.order,o==="hours"?E:void 0);return P[o]?!!((W=P[o])!=null&&W.includes(E)):!0},q=(o,E)=>E!=="hours"||V.value==="AM"?o:o+12,C=o=>{const E=r.is24?24:12,P=o==="hours"?E:60,W=+r[`${o}GridIncrement`],ae=o==="hours"&&!r.is24?W:0,S=[];for(let _=ae;_<P;_+=W)S.push({value:r.is24?_:q(_,o),text:_<10?`0${_}`:`${_}`});return o==="hours"&&!r.is24&&S.unshift({value:V.value==="PM"?12:0,text:"12"}),Je(S,_=>({active:!1,disabled:I.value.times[o].includes(_.value)||!d(_.value,o)||h(o,_.value)||Q(o,_.value)}))},F=o=>o>=0?o:59,le=o=>o>=0?o:23,d=(o,E)=>{const P=r.minTime?x(Et(r.minTime)):null,W=r.maxTime?x(Et(r.maxTime)):null,ae=x(Et(ne.value,E,E==="minutes"||E==="seconds"?F(o):le(o)));return P&&W?(s.isBefore(ae,W)||s.isEqual(ae,W))&&(s.isAfter(ae,P)||s.isEqual(ae,P)):P?s.isAfter(ae,P)||s.isEqual(ae,P):W?s.isBefore(ae,W)||s.isEqual(ae,W):!0},g=o=>r[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],z=o=>{g(o)||(L[o]=!L[o],L[o]?(T.value=!0,a("overlay-opened",o)):(T.value=!1,a("overlay-closed",o)))},u=o=>o==="hours"?s.getHours:o==="minutes"?s.getMinutes:s.getSeconds,v=()=>{R.value&&clearTimeout(R.value)},Y=(o,E=!0,P)=>{const W=E?G:re,ae=E?+r[`${o}Increment`]:-+r[`${o}Increment`];d(+r[o]+ae,o)&&a(`update:${o}`,u(o)(W({[o]:+r[o]},{[o]:+r[`${o}Increment`]}))),!(P!=null&&P.keyboard)&&y.value.timeArrowHoldThreshold&&(R.value=setTimeout(()=>{Y(o,E)},y.value.timeArrowHoldThreshold))},i=o=>r.is24?o:(o>=12?V.value="PM":V.value="AM",Ln(o)),ee=()=>{V.value==="PM"?(V.value="AM",a("update:hours",r.hours-12)):(V.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",V.value)},ue=o=>{L[o]=!0},B=(o,E,P)=>{if(o&&r.arrowNavigation){Array.isArray(p.value[E])?p.value[E][P]=o:p.value[E]=[o];const W=p.value.reduce((ae,S)=>S.map((_,oe)=>[...ae[oe]||[],S[oe]]),[]);f(r.closeTimePickerBtn),H.value&&(W[1]=W[1].concat(H.value)),c(W,r.order)}},ce=(o,E)=>(z(o),a(`update:${o}`,E));return n({openChildCmp:ue}),(o,E)=>{var P;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ra,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,(W,ae)=>{var S,_,oe;return e.openBlock(),e.createElementBlock("div",{key:ae,class:e.normalizeClass(se.value)},[W.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[T.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(":")],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:de=>B(de,ae,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_top:o.timePickerInline,dp__inc_dec_button_disabled:X.value(W.type),"dp--hidden-el":T.value}),"data-test":`${W.type}-time-inc-btn-${r.order}`,"aria-label":(S=e.unref(M))==null?void 0:S.incrementValue(W.type),tabindex:"0",onKeydown:de=>e.unref(Ce)(de,()=>Y(W.type,!0,{keyboard:!0}),!0),onClick:de=>e.unref(y).timeArrowHoldThreshold?void 0:Y(W.type,!0),onMousedown:de=>e.unref(y).timeArrowHoldThreshold?Y(W.type,!0):void 0,onMouseup:v},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.$slots["tp-inline-arrow-up"]?e.renderSlot(o.$slots,"tp-inline-arrow-up",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Ea,Oa],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],64))],42,Na),e.createElementVNode("button",{ref_for:!0,ref:de=>B(de,ae,1),type:"button","aria-label":`${J.value(W.type).text}-${(_=e.unref(M))==null?void 0:_.openTpOverlay(W.type)}`,class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!o.timePickerInline,dp__time_display_inline:o.timePickerInline,"dp--time-invalid":Z.value(W.type),"dp--time-overlay-btn":!Z.value(W.type),"dp--hidden-el":T.value}),disabled:g(W.type),tabindex:"0","data-test":`${W.type}-toggle-overlay-btn-${r.order}`,onKeydown:de=>e.unref(Ce)(de,()=>z(W.type),!0),onClick:de=>z(W.type)},[o.$slots[W.type]?e.renderSlot(o.$slots,W.type,{key:0,text:J.value(W.type).text,value:J.value(W.type).value}):e.createCommentVNode("",!0),o.$slots[W.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(J.value(W.type).text),1)],64))],42,Ya),e.createElementVNode("button",{ref_for:!0,ref:de=>B(de,ae,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_bottom:o.timePickerInline,dp__inc_dec_button_disabled:O.value(W.type),"dp--hidden-el":T.value}),"data-test":`${W.type}-time-dec-btn-${r.order}`,"aria-label":(oe=e.unref(M))==null?void 0:oe.decrementValue(W.type),tabindex:"0",onKeydown:de=>e.unref(Ce)(de,()=>Y(W.type,!1,{keyboard:!0}),!0),onClick:de=>e.unref(y).timeArrowHoldThreshold?void 0:Y(W.type,!1),onMousedown:de=>e.unref(y).timeArrowHoldThreshold?Y(W.type,!1):void 0,onMouseup:v},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.$slots["tp-inline-arrow-down"]?e.renderSlot(o.$slots,"tp-inline-arrow-down",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[_a,Ia],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],64))],42,Va)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",za,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:ee,value:V.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:H,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(P=e.unref(M))==null?void 0:P.amPmButton,tabindex:"0",onClick:ee,onKeydown:E[0]||(E[0]=W=>e.unref(Ce)(W,()=>ee(),!0))},e.toDisplayString(V.value),41,La))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(U.value,(W,ae)=>(e.openBlock(),e.createBlock(e.Transition,{key:ae,name:e.unref(w)(L[W.type]),css:e.unref(A)},{default:e.withCtx(()=>{var S,_;return[L[W.type]?(e.openBlock(),e.createBlock(at,{key:0,items:C(W.type),"is-last":o.autoApply&&!e.unref(y).keepActionRow,"esc-close":o.escClose,type:W.type,"text-input":o.textInput,config:o.config,"arrow-navigation":o.arrowNavigation,"aria-labels":o.ariaLabels,"overlay-label":(_=(S=e.unref(M)).timeOverlay)==null?void 0:_.call(S,W.type),onSelected:oe=>ce(W.type,oe),onToggle:oe=>z(W.type),onResetFlow:E[1]||(E[1]=oe=>o.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.timePickerInline?e.unref(Xe):e.unref(Dt)),{key:1}))]),_:2},[o.$slots[`${W.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:oe})=>[e.renderSlot(o.$slots,`${W.type}-overlay-value`,{text:oe.text,value:oe.value})]),key:"0"}:void 0,o.$slots[`${W.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(o.$slots,`${W.type}-overlay-header`,{toggle:()=>z(W.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Ua={class:"dp--tp-wrap"},Wa=["aria-label","tabindex"],ja=["role","aria-label","tabindex"],Ka=["aria-label"],Pn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Oe},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMatrix:c,setTimePicker:f}=He(),M=e.useSlots(),{defaultedTransitions:m,defaultedAriaLabels:I,defaultedTextInput:y,defaultedConfig:N,defaultedRange:w}=ye(r),{transitionName:A,showTransition:L}=lt(m),{hideNavigationButtons:V}=ht(),H=e.ref(null),p=e.ref(null),R=e.ref([]),T=e.ref(null),x=e.ref(!1);e.onMounted(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?c([we(H.value)],"time"):f(!0,r.timePicker)});const Z=e.computed(()=>w.value.enabled&&r.modelAuto?on(r.internalModelValue):!0),ne=e.ref(!1),Q=C=>({hours:Array.isArray(r.hours)?r.hours[C]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[C]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[C]:r.seconds}),$=e.computed(()=>{const C=[];if(w.value.enabled)for(let F=0;F<2;F++)C.push(Q(F));else C.push(Q(0));return C}),X=(C,F=!1,le="")=>{F||a("reset-flow"),ne.value=C,a(C?"overlay-opened":"overlay-closed",De.time),r.arrowNavigation&&f(C),e.nextTick(()=>{le!==""&&R.value[0]&&R.value[0].openChildCmp(le)})},O=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!N.value.keepActionRow})),G=Ae(M,"timePicker"),re=(C,F,le)=>w.value.enabled?F===0?[C,$.value[1][le]]:[$.value[0][le],C]:C,se=C=>{a("update:hours",C)},b=C=>{a("update:minutes",C)},U=C=>{a("update:seconds",C)},J=()=>{if(T.value&&!y.value.enabled&&!r.noOverlayFocus){const C=cn(T.value);C&&C.focus({preventScroll:!0})}},h=C=>{x.value=!1,a("overlay-closed",C)},q=C=>{x.value=!0,a("overlay-opened",C)};return n({toggleTimePicker:X}),(C,F)=>{var le;return e.openBlock(),e.createElementBlock("div",Ua,[!C.timePicker&&!C.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:H,type:"button",class:e.normalizeClass({...O.value,"dp--hidden-el":ne.value}),"aria-label":(le=e.unref(I))==null?void 0:le.openTimePicker,tabindex:C.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:F[0]||(F[0]=d=>e.unref(Ce)(d,()=>X(!0))),onClick:F[1]||(F[1]=d=>X(!0))},[C.$slots["clock-icon"]?e.renderSlot(C.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),C.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Wa)),[[e.vShow,!e.unref(V)(C.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(A)(ne.value),css:e.unref(L)&&!C.timePickerInline},{default:e.withCtx(()=>{var d,g;return[ne.value||C.timePicker||C.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:T,role:C.timePickerInline?void 0:"dialog",class:e.normalizeClass({dp__overlay:!C.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!C.timePickerInline,"dp--overlay-relative":r.timePicker}),style:e.normalizeStyle(C.timePicker?{height:`${e.unref(N).modeHeight}px`}:void 0),"aria-label":(d=e.unref(I))==null?void 0:d.timePicker,tabindex:C.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(C.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[C.$slots["time-picker-overlay"]?e.renderSlot(C.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:se,setMinutes:b,setSeconds:U}):e.createCommentVNode("",!0),C.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(C.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.value,(z,u)=>e.withDirectives((e.openBlock(),e.createBlock(Ha,e.mergeProps({key:u,ref_for:!0},{...C.$props,order:u,hours:z.hours,minutes:z.minutes,seconds:z.seconds,closeTimePickerBtn:p.value,disabledTimesConfig:t.disabledTimesConfig,disabled:u===0?e.unref(w).fixedStart:e.unref(w).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:R,"validate-time":(v,Y)=>t.validateTime(v,re(Y,u,v)),"onUpdate:hours":v=>se(re(v,u,"hours")),"onUpdate:minutes":v=>b(re(v,u,"minutes")),"onUpdate:seconds":v=>U(re(v,u,"seconds")),onMounted:J,onOverlayClosed:h,onOverlayOpened:q,onAmPmChange:F[2]||(F[2]=v=>C.$emit("am-pm-change",v))}),e.createSlots({_:2},[e.renderList(e.unref(G),(v,Y)=>({name:v,fn:e.withCtx(i=>[e.renderSlot(C.$slots,v,e.mergeProps({ref_for:!0},i))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,u===0?!0:Z.value]])),128))],2)),!C.timePicker&&!C.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:p,type:"button",class:e.normalizeClass({...O.value,"dp--hidden-el":x.value}),"aria-label":(g=e.unref(I))==null?void 0:g.closeTimePicker,tabindex:"0",onKeydown:F[3]||(F[3]=z=>e.unref(Ce)(z,()=>X(!1))),onClick:F[4]||(F[4]=z=>X(!1))},[C.$slots["calendar-icon"]?e.renderSlot(C.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),C.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))],42,Ka)),[[e.vShow,!e.unref(V)(C.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,ja)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Rn=(t,n,l,a)=>{const{defaultedRange:r}=ye(t),c=(T,x)=>Array.isArray(n[T])?n[T][x]:n[T],f=T=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[T]:n.seconds:0,M=(T,x)=>T?x!==void 0?ze(T,c("hours",x),c("minutes",x),f(x)):ze(T,n.hours,n.minutes,f()):s.setSeconds(K(),f(x)),m=(T,x)=>{n[T]=x},I=e.computed(()=>t.modelAuto&&r.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:r.value.enabled),y=(T,x)=>{const Z=Object.fromEntries(Object.keys(n).map(ne=>ne===T?[ne,x]:[ne,n[ne]].slice()));if(I.value&&!r.value.disableTimeRangeValidation){const ne=$=>l.value?ze(l.value[$],Z.hours[$],Z.minutes[$],Z.seconds[$]):null,Q=$=>s.setMilliseconds(l.value[$],0);return!(fe(ne(0),ne(1))&&(s.isAfter(ne(0),Q(1))||s.isBefore(ne(1),Q(0))))}return!0},N=(T,x)=>{y(T,x)&&(m(T,x),a&&a())},w=T=>{N("hours",T)},A=T=>{N("minutes",T)},L=T=>{N("seconds",T)},V=(T,x,Z,ne)=>{x&&w(T),!x&&!Z&&A(T),Z&&L(T),l.value&&ne(l.value)},H=T=>{if(T){const x=Array.isArray(T),Z=x?[+T[0].hours,+T[1].hours]:+T.hours,ne=x?[+T[0].minutes,+T[1].minutes]:+T.minutes,Q=x?[+T[0].seconds,+T[1].seconds]:+T.seconds;m("hours",Z),m("minutes",ne),t.enableSeconds&&m("seconds",Q)}},p=(T,x)=>{const Z={hours:Array.isArray(n.hours)?n.hours[T]:n.hours,disabledArr:[]};return(x||x===0)&&(Z.hours=x),Array.isArray(t.disabledTimes)&&(Z.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[T])?t.disabledTimes[T]:t.disabledTimes),Z},R=e.computed(()=>(T,x)=>{var Z;if(Array.isArray(t.disabledTimes)){const{disabledArr:ne,hours:Q}=p(T,x),$=ne.filter(X=>+X.hours===Q);return((Z=$[0])==null?void 0:Z.minutes)==="*"?{hours:[Q],minutes:void 0,seconds:void 0}:{hours:[],minutes:($==null?void 0:$.map(X=>+X.minutes))??[],seconds:($==null?void 0:$.map(X=>X.seconds?+X.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:m,updateHours:w,updateMinutes:A,updateSeconds:L,getSetDateTime:M,updateTimeValues:V,getSecondsValue:f,assignStartTime:H,validateTime:y,disabledTimesConfig:R}},xa=(t,n)=>{const l=()=>{t.isTextInputDate&&x()},{modelValue:a,time:r}=ot(t,n,l),{defaultedStartTime:c,defaultedRange:f,defaultedTz:M}=ye(t),{updateTimeValues:m,getSetDateTime:I,setTime:y,assignStartTime:N,disabledTimesConfig:w,validateTime:A}=Rn(t,r,a,L);function L(){n("update-flow-step")}const V=Q=>{const{hours:$,minutes:X,seconds:O}=Q;return{hours:+$,minutes:+X,seconds:O?+O:0}},H=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const $=V(t.startTime[0]),X=V(t.startTime[1]);return[s.set(K(),$),s.set(K(),X)]}const Q=V(t.startTime);return s.set(K(),Q)}return f.value.enabled?[null,null]:null},p=()=>{if(f.value.enabled){const[Q,$]=H();a.value=[$e(I(Q,0),M.value.timezone),$e(I($,1),M.value.timezone)]}else a.value=$e(I(H()),M.value.timezone)},R=Q=>Array.isArray(Q)?[qe(K(Q[0])),qe(K(Q[1]))]:[qe(Q??K())],T=(Q,$,X)=>{y("hours",Q),y("minutes",$),y("seconds",t.enableSeconds?X:0)},x=()=>{const[Q,$]=R(a.value);return f.value.enabled?T([Q.hours,$.hours],[Q.minutes,$.minutes],[Q.seconds,$.seconds]):T(Q.hours,Q.minutes,Q.seconds)};e.onMounted(()=>{if(!t.shadow)return N(c.value),a.value?x():p()});const Z=()=>{Array.isArray(a.value)?a.value=a.value.map((Q,$)=>Q&&I(Q,$)):a.value=I(a.value),n("time-update")};return{modelValue:a,time:r,disabledTimesConfig:w,updateTime:(Q,$=!0,X=!1)=>{m(Q,$,X,Z)},validateTime:A}},qa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Oe},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=Ae(c,"timePicker"),M=e.ref(null),{time:m,modelValue:I,disabledTimesConfig:y,updateTime:N,validateTime:w}=xa(r,a);return e.onMounted(()=>{r.shadow||a("mount",null)}),n({getSidebarProps:()=>({modelValue:I,time:m,updateTime:N}),toggleTimePicker:(V,H=!1,p="")=>{var R;(R=M.value)==null||R.toggleTimePicker(V,H,p)}}),(V,H)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Pn,e.mergeProps({ref_key:"tpRef",ref:M},V.$props,{hours:e.unref(m).hours,minutes:e.unref(m).minutes,seconds:e.unref(m).seconds,"internal-model-value":V.internalModelValue,"disabled-times-config":e.unref(y),"validate-time":e.unref(w),"onUpdate:hours":H[0]||(H[0]=p=>e.unref(N)(p)),"onUpdate:minutes":H[1]||(H[1]=p=>e.unref(N)(p,!1)),"onUpdate:seconds":H[2]||(H[2]=p=>e.unref(N)(p,!1,!0)),onAmPmChange:H[3]||(H[3]=p=>V.$emit("am-pm-change",p)),onResetFlow:H[4]||(H[4]=p=>V.$emit("reset-flow")),onOverlayClosed:H[5]||(H[5]=p=>V.$emit("overlay-toggle",{open:!1,overlay:p})),onOverlayOpened:H[6]||(H[6]=p=>V.$emit("overlay-toggle",{open:!0,overlay:p}))}),e.createSlots({_:2},[e.renderList(e.unref(f),(p,R)=>({name:p,fn:e.withCtx(T=>[e.renderSlot(V.$slots,p,e.normalizeProps(e.guardReactiveProps(T)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Ga={class:"dp--header-wrap"},Qa={key:0,class:"dp__month_year_wrap"},Xa={key:0},Ja={class:"dp__month_year_wrap"},Za=["data-dp-element","aria-label","data-test","onClick","onKeydown"],Fa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Oe},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTransitions:c,defaultedAriaLabels:f,defaultedMultiCalendars:M,defaultedFilters:m,defaultedConfig:I,defaultedHighlight:y,propDates:N,defaultedUI:w}=ye(r),{transitionName:A,showTransition:L}=lt(c),{buildMatrix:V}=He(),{handleMonthYearChange:H,isDisabled:p,updateMonthYear:R}=ha(r,a),{showLeftIcon:T,showRightIcon:x}=ht(),Z=e.ref(!1),ne=e.ref(!1),Q=e.ref(!1),$=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const X=g=>({get:()=>r[g],set:z=>{const u=g===Ne.month?Ne.year:Ne.month;a("update-month-year",{[g]:z,[u]:r[u]}),g===Ne.month?h(!0):q(!0)}}),O=e.computed(X(Ne.month)),G=e.computed(X(Ne.year)),re=e.computed(()=>g=>({month:r.month,year:r.year,items:g===Ne.month?r.months:r.years,instance:r.instance,updateMonthYear:R,toggle:g===Ne.month?h:q})),se=e.computed(()=>{const g=r.months.find(z=>z.value===r.month);return g||{text:"",value:0}}),b=e.computed(()=>Je(r.months,g=>{const z=r.month===g.value,u=tt(g.value,pn(r.year,N.value.minDate),gn(r.year,N.value.maxDate))||m.value.months.includes(g.value),v=wn(y.value,g.value,r.year);return{active:z,disabled:u,highlighted:v}})),U=e.computed(()=>Je(r.years,g=>{const z=r.year===g.value,u=tt(g.value,Ze(N.value.minDate),Ze(N.value.maxDate))||m.value.years.includes(g.value),v=It(y.value,g.value);return{active:z,disabled:u,highlighted:v}})),J=(g,z,u)=>{u!==void 0?g.value=u:g.value=!g.value,g.value?(Q.value=!0,a("overlay-opened",z)):(Q.value=!1,a("overlay-closed",z))},h=(g=!1,z)=>{C(g),J(Z,De.month,z)},q=(g=!1,z)=>{C(g),J(ne,De.year,z)},C=g=>{g||a("reset-flow")},F=(g,z)=>{r.arrowNavigation&&($.value[z]=we(g),V($.value,"monthYear"))},le=e.computed(()=>{var g,z,u,v,Y,i;return[{type:Ne.month,index:1,toggle:h,modelValue:O.value,updateModelValue:ee=>O.value=ee,text:se.value.text,showSelectionGrid:Z.value,items:b.value,ariaLabel:(g=f.value)==null?void 0:g.openMonthsOverlay,overlayLabel:((u=(z=f.value).monthPicker)==null?void 0:u.call(z,!0))??void 0},{type:Ne.year,index:2,toggle:q,modelValue:G.value,updateModelValue:ee=>G.value=ee,text:dn(r.year,r.locale),showSelectionGrid:ne.value,items:U.value,ariaLabel:(v=f.value)==null?void 0:v.openYearsOverlay,overlayLabel:((i=(Y=f.value).yearPicker)==null?void 0:i.call(Y,!0))??void 0}]}),d=e.computed(()=>r.disableYearSelect?[le.value[0]]:r.yearFirst?[...le.value].reverse():le.value);return n({toggleMonthPicker:h,toggleYearPicker:q,handleMonthYearChange:H}),(g,z)=>{var u,v,Y,i,ee,ue;return e.openBlock(),e.createElementBlock("div",Ga,[g.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Qa,[e.renderSlot(g.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(R),handleMonthYearChange:e.unref(H),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[g.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",Xa,[e.renderSlot(g.$slots,"top-extra",{value:g.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",Ja,[e.unref(T)(e.unref(M),t.instance)&&!g.vertical?(e.openBlock(),e.createBlock(rt,{key:0,"aria-label":(u=e.unref(f))==null?void 0:u.prevMonth,disabled:e.unref(p)(!1),class:e.normalizeClass((v=e.unref(w))==null?void 0:v.navBtnPrev),"el-name":"action-prev",onActivate:z[0]||(z[0]=B=>e.unref(H)(!1,!0)),onSetRef:z[1]||(z[1]=B=>F(B,0))},{default:e.withCtx(()=>[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:g.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,(B,ce)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:B.type},[e.createElementVNode("button",{ref_for:!0,ref:o=>F(o,ce+1),type:"button","data-dp-element":`overlay-${B.type}`,class:e.normalizeClass(["dp__btn dp__month_year_select",{"dp--hidden-el":Q.value}]),"aria-label":`${B.text}-${B.ariaLabel}`,"data-test":`${B.type}-toggle-overlay-${t.instance}`,onClick:B.toggle,onKeydown:o=>e.unref(Ce)(o,()=>B.toggle(),!0)},[g.$slots[B.type]?e.renderSlot(g.$slots,B.type,{key:0,text:B.text,value:r[B.type]}):e.createCommentVNode("",!0),g.$slots[B.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.text),1)],64))],42,Za),e.createVNode(e.Transition,{name:e.unref(A)(B.showSelectionGrid),css:e.unref(L)},{default:e.withCtx(()=>[B.showSelectionGrid?(e.openBlock(),e.createBlock(at,{key:0,items:B.items,"arrow-navigation":g.arrowNavigation,"hide-navigation":g.hideNavigation,"is-last":g.autoApply&&!e.unref(I).keepActionRow,"skip-button-ref":!1,config:g.config,type:B.type,"header-refs":[],"esc-close":g.escClose,"menu-wrap-ref":g.menuWrapRef,"text-input":g.textInput,"aria-labels":g.ariaLabels,"overlay-label":B.overlayLabel,onSelected:B.updateModelValue,onToggle:B.toggle},e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[g.$slots[`${B.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:o})=>[e.renderSlot(g.$slots,`${B.type}-overlay-value`,{text:o.text,value:o.value})]),key:"0"}:void 0,g.$slots[`${B.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${B.type}-overlay`,e.mergeProps({ref_for:!0},re.value(B.type)))]),key:"1"}:void 0,g.$slots[`${B.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${B.type}-overlay-header`,{toggle:B.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(T)(e.unref(M),t.instance)&&g.vertical?(e.openBlock(),e.createBlock(rt,{key:1,"aria-label":(Y=e.unref(f))==null?void 0:Y.prevMonth,"el-name":"action-prev",disabled:e.unref(p)(!1),class:e.normalizeClass((i=e.unref(w))==null?void 0:i.navBtnPrev),onActivate:z[2]||(z[2]=B=>e.unref(H)(!1,!0))},{default:e.withCtx(()=>[g.$slots["arrow-up"]?e.renderSlot(g.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.unref(x)(e.unref(M),t.instance)?(e.openBlock(),e.createBlock(rt,{key:2,ref:"rightIcon","el-name":"action-next",disabled:e.unref(p)(!0),"aria-label":(ee=e.unref(f))==null?void 0:ee.nextMonth,class:e.normalizeClass((ue=e.unref(w))==null?void 0:ue.navBtnNext),onActivate:z[3]||(z[3]=B=>e.unref(H)(!0,!0)),onSetRef:z[4]||(z[4]=B=>F(B,g.disableYearSelect?2:3))},{default:e.withCtx(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.renderSlot(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.vertical?e.unref(Bt):e.unref(Mt)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):e.createCommentVNode("",!0)])],64))])}}}),er={class:"dp__calendar_header",role:"row"},tr={key:0,class:"dp__calendar_header_item",role:"gridcell"},nr=["aria-label"],ar=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),rr={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},lr={class:"dp__cell_inner"},or=["id","aria-pressed","aria-disabled","aria-label","data-test","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],sr=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Oe},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMultiLevelMatrix:c}=He(),{defaultedTransitions:f,defaultedConfig:M,defaultedAriaLabels:m,defaultedMultiCalendars:I,defaultedWeekNumbers:y,defaultedMultiDates:N,defaultedUI:w}=ye(r),A=e.ref(null),L=e.ref({bottom:"",left:"",transform:""}),V=e.ref([]),H=e.ref(null),p=e.ref(!0),R=e.ref(""),T=e.ref({startX:0,endX:0,startY:0,endY:0}),x=e.ref([]),Z=e.ref({left:"50%"}),ne=e.ref(!1),Q=e.computed(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),$=e.computed(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):zn(r.formatLocale,r.locale,+r.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:V}),M.value.noSwipe||H.value&&(H.value.addEventListener("touchstart",F,{passive:!1}),H.value.addEventListener("touchend",le,{passive:!1}),H.value.addEventListener("touchmove",d,{passive:!1})),r.monthChangeOnScroll&&H.value&&H.value.addEventListener("wheel",u,{passive:!1})});const X=B=>B?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",O=(B,ce)=>{if(r.transitions){const o=Te(_e(K(),r.month,r.year));R.value=ke(Te(_e(K(),B,ce)),o)?f.value[X(!0)]:f.value[X(!1)],p.value=!1,e.nextTick(()=>{p.value=!0})}},G=e.computed(()=>({...w.value.calendar??{}})),re=e.computed(()=>B=>{const ce=Hn(B);return{dp__marker_dot:ce.type==="dot",dp__marker_line:ce.type==="line"}}),se=e.computed(()=>B=>fe(B,A.value)),b=e.computed(()=>({dp__calendar:!0,dp__calendar_next:I.value.count>0&&r.instance!==0})),U=e.computed(()=>B=>r.hideOffsetDates?B.current:!0),J=async(B,ce)=>{const{width:o,height:E}=B.getBoundingClientRect();A.value=ce.value;let P={left:`${o/2}px`},W=-50;if(await e.nextTick(),x.value[0]){const{left:ae,width:S}=x.value[0].getBoundingClientRect();ae<0&&(P={left:"0"},W=0,Z.value.left=`${o/2}px`),window.innerWidth<ae+S&&(P={right:"0"},W=0,Z.value.left=`${S-o/2}px`)}L.value={bottom:`${E}px`,...P,transform:`translateX(${W}%)`}},h=async(B,ce,o)=>{var P,W,ae;const E=we(V.value[ce][o]);E&&((P=B.marker)!=null&&P.customPosition&&((ae=(W=B.marker)==null?void 0:W.tooltip)!=null&&ae.length)?L.value=B.marker.customPosition(E):await J(E,B),a("tooltip-open",B.marker))},q=async(B,ce,o)=>{var E,P;if(ne.value&&N.value.enabled&&N.value.dragSelect)return a("select-date",B);a("set-hover-date",B),(P=(E=B.marker)==null?void 0:E.tooltip)!=null&&P.length&&await h(B,ce,o)},C=B=>{A.value&&(A.value=null,L.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",B.marker))},F=B=>{T.value.startX=B.changedTouches[0].screenX,T.value.startY=B.changedTouches[0].screenY},le=B=>{T.value.endX=B.changedTouches[0].screenX,T.value.endY=B.changedTouches[0].screenY,g()},d=B=>{r.vertical&&!r.inline&&B.preventDefault()},g=()=>{const B=r.vertical?"Y":"X";Math.abs(T.value[`start${B}`]-T.value[`end${B}`])>10&&a("handle-swipe",T.value[`start${B}`]>T.value[`end${B}`]?"right":"left")},z=(B,ce,o)=>{B&&(Array.isArray(V.value[ce])?V.value[ce][o]=B:V.value[ce]=[B]),r.arrowNavigation&&c(V.value,"calendar")},u=B=>{r.monthChangeOnScroll&&(B.preventDefault(),a("handle-scroll",B))},v=B=>y.value.type==="local"?s.getWeek(B.value,{weekStartsOn:+r.weekStart}):y.value.type==="iso"?s.getISOWeek(B.value):typeof y.value.type=="function"?y.value.type(B.value):"",Y=B=>{const ce=B[0];return y.value.hideOnOffsetDates?B.some(o=>o.current)?v(ce):"":v(ce)},i=(B,ce,o=!0)=>{o&&fn()||!o&&!fn()||N.value.enabled||(Ie(B,M.value),a("select-date",ce))},ee=B=>{Ie(B,M.value)},ue=B=>{N.value.enabled&&N.value.dragSelect?(ne.value=!0,a("select-date",B)):N.value.enabled&&a("select-date",B)};return n({triggerTransition:O}),(B,ce)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(b.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:H,class:e.normalizeClass(G.value),role:"grid"},[e.createElementVNode("div",er,[B.weekNumbers?(e.openBlock(),e.createElementBlock("div",tr,e.toDisplayString(B.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.value,(o,E)=>{var P,W;return e.openBlock(),e.createElementBlock("div",{key:E,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(W=(P=e.unref(m))==null?void 0:P.weekDay)==null?void 0:W.call(P,E)},[B.$slots["calendar-header"]?e.renderSlot(B.$slots,"calendar-header",{key:0,day:o,index:E}):e.createCommentVNode("",!0),B.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o),1)],64))],8,nr)}),128))]),ar,e.createVNode(e.Transition,{name:R.value,css:!!B.transitions},{default:e.withCtx(()=>[p.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:ce[1]||(ce[1]=o=>ne.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Q.value,(o,E)=>(e.openBlock(),e.createElementBlock("div",{key:E,class:"dp__calendar_row",role:"row"},[B.weekNumbers?(e.openBlock(),e.createElementBlock("div",rr,[e.createElementVNode("div",lr,e.toDisplayString(Y(o.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.days,(P,W)=>{var ae,S,_;return e.openBlock(),e.createElementBlock("div",{id:e.unref(Mn)(P.value),ref_for:!0,ref:oe=>z(oe,E,W),key:W+E,role:"gridcell",class:"dp__calendar_item","aria-pressed":(P.classData.dp__active_date||P.classData.dp__range_start||P.classData.dp__range_start)??void 0,"aria-disabled":P.classData.dp__cell_disabled||void 0,"aria-label":(S=(ae=e.unref(m))==null?void 0:ae.day)==null?void 0:S.call(ae,P),tabindex:"0","data-test":P.value,onClick:e.withModifiers(oe=>i(oe,P),["prevent"]),onTouchend:oe=>i(oe,P,!1),onKeydown:oe=>e.unref(Ce)(oe,()=>B.$emit("select-date",P)),onMouseenter:oe=>q(P,E,W),onMouseleave:oe=>C(P),onMousedown:oe=>ue(P),onMouseup:ce[0]||(ce[0]=oe=>ne.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",P.classData])},[B.$slots.day&&U.value(P)?e.renderSlot(B.$slots,"day",{key:0,day:+P.text,date:P.value}):e.createCommentVNode("",!0),B.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(P.text),1)],64)),P.marker&&U.value(P)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[B.$slots.marker?e.renderSlot(B.$slots,"marker",{key:0,marker:P.marker,day:+P.text,date:P.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(re.value(P.marker)),style:e.normalizeStyle(P.marker.color?{backgroundColor:P.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),se.value(P.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:x,class:"dp__marker_tooltip",style:e.normalizeStyle(L.value)},[(_=P.marker)!=null&&_.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:ee},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.marker.tooltip,(oe,de)=>(e.openBlock(),e.createElementBlock("div",{key:de,class:"dp__tooltip_text"},[B.$slots["marker-tooltip"]?e.renderSlot(B.$slots,"marker-tooltip",{key:0,tooltip:oe,day:P.value}):e.createCommentVNode("",!0),B.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(oe.color?{backgroundColor:oe.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(oe.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(Z.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,or)}),128))]))),128))],32)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2)],2))}}),Nn=t=>Array.isArray(t),ir=(t,n,l,a)=>{const r=e.ref([]),c=e.ref(new Date),f=e.ref(),M=()=>F(t.isTextInputDate),{modelValue:m,calendars:I,time:y,today:N}=ot(t,n,M),{defaultedMultiCalendars:w,defaultedStartTime:A,defaultedRange:L,defaultedConfig:V,defaultedTz:H,propDates:p,defaultedMultiDates:R}=ye(t),{validateMonthYearInRange:T,isDisabled:x,isDateRangeAllowed:Z,checkMinMaxRange:ne}=We(t),{updateTimeValues:Q,getSetDateTime:$,setTime:X,assignStartTime:O,validateTime:G,disabledTimesConfig:re}=Rn(t,y,m,a),se=e.computed(()=>D=>I.value[D]?I.value[D].month:0),b=e.computed(()=>D=>I.value[D]?I.value[D].year:0),U=D=>!V.value.keepViewOnOffsetClick||D?!0:!f.value,J=(D,k,j,te=!1)=>{var me,Me;U(te)&&(I.value[D]||(I.value[D]={month:0,year:0}),I.value[D].month=un(k)?(me=I.value[D])==null?void 0:me.month:k,I.value[D].year=un(j)?(Me=I.value[D])==null?void 0:Me.year:j)},h=()=>{t.autoApply&&n("select-date")};e.onMounted(()=>{t.shadow||(m.value||(B(),A.value&&O(A.value)),F(!0),t.focusStartDate&&t.startDate&&B())});const q=e.computed(()=>{var D;return(D=t.flow)!=null&&D.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),C=()=>{t.autoApply&&q.value&&n("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},F=(D=!1)=>{if(m.value)return Array.isArray(m.value)?(r.value=m.value,Y(D)):g(m.value,D);if(w.value.count&&D&&!t.startDate)return d(K(),D)},le=()=>Array.isArray(m.value)&&L.value.enabled?s.getMonth(m.value[0])===s.getMonth(m.value[1]??m.value[0]):!1,d=(D=new Date,k=!1)=>{if((!w.value.count||!w.value.static||k)&&J(0,s.getMonth(D),s.getYear(D)),w.value.count&&(!w.value.solo||!m.value||le()))for(let j=1;j<w.value.count;j++){const te=s.set(K(),{month:se.value(j-1),year:b.value(j-1)}),me=s.add(te,{months:1});I.value[j]={month:s.getMonth(me),year:s.getYear(me)}}},g=(D,k)=>{d(D),X("hours",s.getHours(D)),X("minutes",s.getMinutes(D)),X("seconds",s.getSeconds(D)),w.value.count&&k&&ue()},z=D=>{if(w.value.count){if(w.value.solo)return 0;const k=s.getMonth(D[0]),j=s.getMonth(D[1]);return Math.abs(j-k)<w.value.count?0:1}return 1},u=(D,k)=>{D[1]&&L.value.showLastInRange?d(D[z(D)],k):d(D[0],k);const j=(te,me)=>[te(D[0]),D[1]?te(D[1]):y[me][1]];X("hours",j(s.getHours,"hours")),X("minutes",j(s.getMinutes,"minutes")),X("seconds",j(s.getSeconds,"seconds"))},v=(D,k)=>{if((L.value.enabled||t.weekPicker)&&!R.value.enabled)return u(D,k);if(R.value.enabled&&k){const j=D[D.length-1];return g(j,k)}},Y=D=>{const k=m.value;v(k,D),w.value.count&&w.value.solo&&ue()},i=(D,k)=>{const j=s.set(K(),{month:se.value(k),year:b.value(k)}),te=D<0?s.addMonths(j,1):s.subMonths(j,1);T(s.getMonth(te),s.getYear(te),D<0,t.preventMinMaxNavigation)&&(J(k,s.getMonth(te),s.getYear(te)),n("update-month-year",{instance:k,month:s.getMonth(te),year:s.getYear(te)}),w.value.count&&!w.value.solo&&ee(k),l())},ee=D=>{for(let k=D-1;k>=0;k--){const j=s.subMonths(s.set(K(),{month:se.value(k+1),year:b.value(k+1)}),1);J(k,s.getMonth(j),s.getYear(j))}for(let k=D+1;k<=w.value.count-1;k++){const j=s.addMonths(s.set(K(),{month:se.value(k-1),year:b.value(k-1)}),1);J(k,s.getMonth(j),s.getYear(j))}},ue=()=>{if(Array.isArray(m.value)&&m.value.length===2){const D=K(K(m.value[1]?m.value[1]:s.addMonths(m.value[0],1))),[k,j]=[s.getMonth(m.value[0]),s.getYear(m.value[0])],[te,me]=[s.getMonth(m.value[1]),s.getYear(m.value[1])];(k!==te||k===te&&j!==me)&&w.value.solo&&J(1,s.getMonth(D),s.getYear(D))}else m.value&&!Array.isArray(m.value)&&(J(0,s.getMonth(m.value),s.getYear(m.value)),d(K()))},B=()=>{t.startDate&&(J(0,s.getMonth(K(t.startDate)),s.getYear(K(t.startDate))),w.value.count&&ee(0))},ce=(D,k)=>{if(t.monthChangeOnScroll){const j=new Date().getTime()-c.value.getTime(),te=Math.abs(D.deltaY);let me=500;te>1&&(me=100),te>100&&(me=0),j>me&&(c.value=new Date,i(t.monthChangeOnScroll!=="inverse"?-D.deltaY:D.deltaY,k))}},o=(D,k,j=!1)=>{t.monthChangeOnArrows&&t.vertical===j&&E(D,k)},E=(D,k)=>{i(D==="right"?-1:1,k)},P=D=>{if(p.value.markers)return ct(D.value,p.value.markers)},W=(D,k)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[D==0,!0];case"fair":return[D==0||k>D,!0];case"append":return[!1,!1];default:return[!1,!1]}},ae=(D,k,j,te)=>{if(t.sixWeeks&&D.length<6){const me=6-D.length,Me=(k.getDay()+7-te)%7,bt=6-(j.getDay()+7-te)%7,[ut,tn]=W(Me,bt);for(let Qe=1;Qe<=me;Qe++)if(tn?!!(Qe%2)==ut:ut){const vt=D[0].days[0],nn=S(s.addDays(vt.value,-7),s.getMonth(k));D.unshift({days:nn})}else{const vt=D[D.length-1],nn=vt.days[vt.days.length-1],Ir=S(s.addDays(nn.value,1),s.getMonth(k));D.push({days:Ir})}}return D},S=(D,k)=>{const j=K(D),te=[];for(let me=0;me<7;me++){const Me=s.addDays(j,me),Ge=s.getMonth(Me)!==k;te.push({text:t.hideOffsetDates&&Ge?"":Me.getDate(),value:Me,current:!Ge,classData:{}})}return te},_=(D,k)=>{const j=[],te=new Date(k,D),me=new Date(k,D+1,0),Me=t.weekStart,Ge=s.startOfWeek(te,{weekStartsOn:Me}),bt=ut=>{const tn=S(ut,D);if(j.push({days:tn}),!j[j.length-1].days.some(Qe=>fe(Te(Qe.value),Te(me)))){const Qe=s.addDays(ut,7);bt(Qe)}};return bt(Ge),ae(j,te,me,Me)},oe=D=>{const k=ze(K(D.value),y.hours,y.minutes,Pe());n("date-update",k),R.value.enabled?jt(k,m,R.value.limit):m.value=k,a(),e.nextTick().then(()=>{C()})},de=D=>L.value.noDisabledRange?yn(r.value[0],D).some(j=>x(j)):!1,Re=()=>{r.value=m.value?m.value.slice():[],r.value.length===2&&!(L.value.fixedStart||L.value.fixedEnd)&&(r.value=[])},ie=(D,k)=>{const j=[K(D.value),s.addDays(K(D.value),+L.value.autoRange)];Z(j)?(k&&je(D.value),r.value=j):n("invalid-date",D.value)},je=D=>{const k=s.getMonth(K(D)),j=s.getYear(K(D));if(J(0,k,j),w.value.count>0)for(let te=1;te<w.value.count;te++){const me=Gn(s.set(K(D),{year:b.value(te-1),month:se.value(te-1)}));J(te,me.month,me.year)}},Ye=D=>{if(de(D.value)||!ne(D.value,m.value,L.value.fixedStart?0:1))return n("invalid-date",D.value);r.value=$n(K(D.value),m,n,L)},st=(D,k)=>{if(Re(),L.value.autoRange)return ie(D,k);if(L.value.fixedStart||L.value.fixedEnd)return Ye(D);r.value[0]?ne(K(D.value),m.value)&&!de(D.value)?he(K(D.value),K(r.value[0]))?(r.value.unshift(K(D.value)),n("range-end",r.value[0])):(r.value[1]=K(D.value),n("range-end",r.value[1])):(t.autoApply&&n("auto-apply-invalid",D.value),n("invalid-date",D.value)):(r.value[0]=K(D.value),n("range-start",r.value[0]))},Pe=(D=!0)=>t.enableSeconds?Array.isArray(y.seconds)?D?y.seconds[0]:y.seconds[1]:y.seconds:0,it=D=>{r.value[D]=ze(r.value[D],y.hours[D],y.minutes[D],Pe(D!==1))},Gt=()=>{var D,k;r.value[0]&&r.value[1]&&+((D=r.value)==null?void 0:D[0])>+((k=r.value)==null?void 0:k[1])&&(r.value.reverse(),n("range-start",r.value[0]),n("range-end",r.value[1]))},kt=()=>{r.value.length&&(r.value[0]&&!r.value[1]?it(0):(it(0),it(1),a()),Gt(),m.value=r.value.slice(),yt(r.value,n,t.autoApply,t.modelAuto))},Qt=(D,k=!1)=>{if(x(D.value)||!D.current&&t.hideOffsetDates)return n("invalid-date",D.value);if(f.value=JSON.parse(JSON.stringify(D)),!L.value.enabled)return oe(D);Nn(y.hours)&&Nn(y.minutes)&&!R.value.enabled&&(st(D,k),kt())},Xt=(D,k)=>{var te;J(D,k.month,k.year,!0),w.value.count&&!w.value.solo&&ee(D),n("update-month-year",{instance:D,month:k.month,year:k.year}),l(w.value.solo?D:void 0);const j=(te=t.flow)!=null&&te.length?t.flow[t.flowStep]:void 0;!k.fromNav&&(j===De.month||j===De.year)&&a()},Jt=(D,k)=>{Tn({value:D,modelValue:m,range:L.value.enabled,timezone:k?void 0:H.value.timezone}),h(),t.multiCalendars&&e.nextTick().then(()=>F(!0))},Zt=()=>{const D=Ct(K(),H.value);L.value.enabled?m.value&&Array.isArray(m.value)&&m.value[0]?m.value=he(D,m.value[0])?[D,m.value[0]]:[m.value[0],D]:m.value=[D]:m.value=D,h()},Ft=()=>{if(Array.isArray(m.value))if(R.value.enabled){const D=en();m.value[m.value.length-1]=$(D)}else m.value=m.value.map((D,k)=>D&&$(D,k));else m.value=$(m.value);n("time-update")},en=()=>Array.isArray(m.value)&&m.value.length?m.value[m.value.length-1]:null;return{calendars:I,modelValue:m,month:se,year:b,time:y,disabledTimesConfig:re,today:N,validateTime:G,getCalendarDays:_,getMarker:P,handleScroll:ce,handleSwipe:E,handleArrow:o,selectDate:Qt,updateMonthYear:Xt,presetDate:Jt,selectCurrentDate:Zt,updateTime:(D,k=!0,j=!1)=>{Q(D,k,j,Ft)},assignMonthAndYear:d}},ur={key:0},cr=e.defineComponent({__name:"DatePicker",props:{...Oe},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,{calendars:c,month:f,year:M,modelValue:m,time:I,disabledTimesConfig:y,today:N,validateTime:w,getCalendarDays:A,getMarker:L,handleArrow:V,handleScroll:H,handleSwipe:p,selectDate:R,updateMonthYear:T,presetDate:x,selectCurrentDate:Z,updateTime:ne,assignMonthAndYear:Q}=ir(r,a,le,d),$=e.useSlots(),{setHoverDate:X,getDayClassData:O,clearHoverDate:G}=Cr(m,r),{defaultedMultiCalendars:re}=ye(r),se=e.ref([]),b=e.ref([]),U=e.ref(null),J=Ae($,"calendar"),h=Ae($,"monthYear"),q=Ae($,"timePicker"),C=o=>{r.shadow||a("mount",o)};e.watch(c,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),e.watch(re,(o,E)=>{o.count-E.count>0&&Q()},{deep:!0});const F=e.computed(()=>o=>A(f.value(o),M.value(o)).map(E=>({...E,days:E.days.map(P=>(P.marker=L(P),P.classData=O(P),P))})));function le(o){var E;o||o===0?(E=b.value[o])==null||E.triggerTransition(f.value(o),M.value(o)):b.value.forEach((P,W)=>P.triggerTransition(f.value(W),M.value(W)))}function d(){a("update-flow-step")}const g=(o,E=!1)=>{R(o,E),r.spaceConfirm&&a("select-date")},z=(o,E,P=0)=>{var W;(W=se.value[P])==null||W.toggleMonthPicker(o,E)},u=(o,E,P=0)=>{var W;(W=se.value[P])==null||W.toggleYearPicker(o,E)},v=(o,E,P)=>{var W;(W=U.value)==null||W.toggleTimePicker(o,E,P)},Y=(o,E)=>{var P;if(!r.range){const W=m.value?m.value:N,ae=E?new Date(E):W,S=o?s.startOfWeek(ae,{weekStartsOn:1}):s.endOfWeek(ae,{weekStartsOn:1});R({value:S,current:s.getMonth(ae)===f.value(0),text:"",classData:{}}),(P=document.getElementById(Mn(S)))==null||P.focus()}},i=o=>{var E;(E=se.value[0])==null||E.handleMonthYearChange(o,!0)},ee=o=>{T(0,{month:f.value(0),year:M.value(0)+(o?1:-1),fromNav:!0})},ue=(o,E)=>{o===De.time&&a(`time-picker-${E?"open":"close"}`),a("overlay-toggle",{open:E,overlay:o})},B=o=>{a("overlay-toggle",{open:!1,overlay:o}),a("focus-menu")};return n({clearHoverDate:G,presetDate:x,selectCurrentDate:Z,toggleMonthPicker:z,toggleYearPicker:u,toggleTimePicker:v,handleArrow:V,updateMonthYear:T,getSidebarProps:()=>({modelValue:m,month:f,year:M,time:I,updateTime:ne,updateMonthYear:T,selectDate:R,presetDate:x}),changeMonth:i,changeYear:ee,selectWeekDate:Y}),(o,E)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(gt,{"multi-calendars":e.unref(re).count,collapse:o.collapse},{default:e.withCtx(({instance:P,index:W})=>[o.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Fa,e.mergeProps({key:0,ref:ae=>{ae&&(se.value[W]=ae)},months:e.unref(ln)(o.formatLocale,o.locale,o.monthNameFormat),years:e.unref($t)(o.yearRange,o.locale,o.reverseYears),month:e.unref(f)(P),year:e.unref(M)(P),instance:P},o.$props,{onMount:E[0]||(E[0]=ae=>C(e.unref(xe).header)),onResetFlow:E[1]||(E[1]=ae=>o.$emit("reset-flow")),onUpdateMonthYear:ae=>e.unref(T)(P,ae),onOverlayClosed:B,onOverlayOpened:E[2]||(E[2]=ae=>o.$emit("overlay-toggle",{open:!0,overlay:ae}))}),e.createSlots({_:2},[e.renderList(e.unref(h),(ae,S)=>({name:ae,fn:e.withCtx(_=>[e.renderSlot(o.$slots,ae,e.normalizeProps(e.guardReactiveProps(_)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(sr,e.mergeProps({ref:ae=>{ae&&(b.value[W]=ae)},"mapped-dates":F.value(P),month:e.unref(f)(P),year:e.unref(M)(P),instance:P},o.$props,{onSelectDate:ae=>e.unref(R)(ae,P!==1),onHandleSpace:ae=>g(ae,P!==1),onSetHoverDate:E[3]||(E[3]=ae=>e.unref(X)(ae)),onHandleScroll:ae=>e.unref(H)(ae,P),onHandleSwipe:ae=>e.unref(p)(ae,P),onMount:E[4]||(E[4]=ae=>C(e.unref(xe).calendar)),onResetFlow:E[5]||(E[5]=ae=>o.$emit("reset-flow")),onTooltipOpen:E[6]||(E[6]=ae=>o.$emit("tooltip-open",ae)),onTooltipClose:E[7]||(E[7]=ae=>o.$emit("tooltip-close",ae))}),e.createSlots({_:2},[e.renderList(e.unref(J),(ae,S)=>({name:ae,fn:e.withCtx(_=>[e.renderSlot(o.$slots,ae,e.normalizeProps(e.guardReactiveProps({..._})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),o.enableTimePicker?(e.openBlock(),e.createElementBlock("div",ur,[o.$slots["time-picker"]?e.renderSlot(o.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(I),updateTime:e.unref(ne)}))):(e.openBlock(),e.createBlock(Pn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:U},o.$props,{hours:e.unref(I).hours,minutes:e.unref(I).minutes,seconds:e.unref(I).seconds,"internal-model-value":o.internalModelValue,"disabled-times-config":e.unref(y),"validate-time":e.unref(w),onMount:E[8]||(E[8]=P=>C(e.unref(xe).timePicker)),"onUpdate:hours":E[9]||(E[9]=P=>e.unref(ne)(P)),"onUpdate:minutes":E[10]||(E[10]=P=>e.unref(ne)(P,!1)),"onUpdate:seconds":E[11]||(E[11]=P=>e.unref(ne)(P,!1,!0)),onResetFlow:E[12]||(E[12]=P=>o.$emit("reset-flow")),onOverlayClosed:E[13]||(E[13]=P=>ue(P,!1)),onOverlayOpened:E[14]||(E[14]=P=>ue(P,!0)),onAmPmChange:E[15]||(E[15]=P=>o.$emit("am-pm-change",P))}),e.createSlots({_:2},[e.renderList(e.unref(q),(P,W)=>({name:P,fn:e.withCtx(ae=>[e.renderSlot(o.$slots,P,e.normalizeProps(e.guardReactiveProps(ae)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),dr=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:c,defaultedRange:f,propDates:M,defaultedFilters:m,defaultedMultiDates:I}=ye(t),{modelValue:y,year:N,month:w,calendars:A}=ot(t,n),{isDisabled:L}=We(t),{selectYear:V,groupedYears:H,showYearPicker:p,isDisabled:R,toggleYearPicker:T,handleYearSelect:x,handleYear:Z}=An({modelValue:y,multiCalendars:a,range:f,highlight:c,calendars:A,propDates:M,month:w,year:N,filters:m,props:t,emit:n}),ne=(h,q)=>[h,q].map(C=>s.format(C,"MMMM",{locale:t.formatLocale})).join("-"),Q=e.computed(()=>h=>y.value?Array.isArray(y.value)?y.value.some(q=>s.isSameQuarter(h,q)):s.isSameQuarter(y.value,h):!1),$=h=>{if(f.value.enabled){if(Array.isArray(y.value)){const q=fe(h,y.value[0])||fe(h,y.value[1]);return dt(y.value,l.value,h)&&!q}return!1}return!1},X=(h,q)=>h.quarter===s.getQuarter(q)&&h.year===s.getYear(q),O=h=>typeof c.value=="function"?c.value({quarter:s.getQuarter(h),year:s.getYear(h)}):!!c.value.quarters.find(q=>X(q,h)),G=e.computed(()=>h=>{const q=s.set(new Date,{year:N.value(h)});return s.eachQuarterOfInterval({start:s.startOfYear(q),end:s.endOfYear(q)}).map(C=>{const F=s.startOfQuarter(C),le=s.endOfQuarter(C),d=L(C),g=$(F),z=O(F);return{text:ne(F,le),value:F,active:Q.value(F),highlighted:z,disabled:d,isBetween:g}})}),re=h=>{jt(h,y,I.value.limit),n("auto-apply",!0)},se=h=>{y.value=Kt(y,h,n),yt(y.value,n,t.autoApply,t.modelAuto)},b=h=>{y.value=h,n("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:H,year:N,isDisabled:R,quarters:G,showYearPicker:p,modelValue:y,setHoverDate:h=>{l.value=h},selectYear:V,selectQuarter:(h,q,C)=>{if(!C)return A.value[q].month=s.getMonth(s.endOfQuarter(h)),I.value.enabled?re(h):f.value.enabled?se(h):b(h)},toggleYearPicker:T,handleYearSelect:x,handleYear:Z}},fr={class:"dp--quarter-items"},mr=["data-test","disabled","onClick","onMouseover"],pr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Oe},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=Ae(c,"yearMode"),{defaultedMultiCalendars:M,defaultedConfig:m,groupedYears:I,year:y,isDisabled:N,quarters:w,modelValue:A,showYearPicker:L,setHoverDate:V,selectQuarter:H,toggleYearPicker:p,handleYearSelect:R,handleYear:T}=dr(r,a);return n({getSidebarProps:()=>({modelValue:A,year:y,selectQuarter:H,handleYearSelect:R,handleYear:T})}),(Z,ne)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":e.unref(M).count,collapse:Z.collapse,stretch:""},{default:e.withCtx(({instance:Q})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(m).modeHeight}px`})},[Z.$slots["top-extra"]?e.renderSlot(Z.$slots,"top-extra",{key:0,value:Z.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Cn,e.mergeProps(Z.$props,{items:e.unref(I)(Q),instance:Q,"show-year-picker":e.unref(L)[Q],year:e.unref(y)(Q),"is-disabled":$=>e.unref(N)(Q,$),onHandleYear:$=>e.unref(T)(Q,$),onYearSelect:$=>e.unref(R)($,Q),onToggleYearPicker:$=>e.unref(p)(Q,$==null?void 0:$.flow,$==null?void 0:$.show)}),e.createSlots({_:2},[e.renderList(e.unref(f),($,X)=>({name:$,fn:e.withCtx(O=>[e.renderSlot(Z.$slots,$,e.normalizeProps(e.guardReactiveProps(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",fr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(w)(Q),($,X)=>(e.openBlock(),e.createElementBlock("div",{key:X},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":$.active,"dp--qr-btn-between":$.isBetween,"dp--qr-btn-disabled":$.disabled,"dp--highlighted":$.highlighted}]),"data-test":$.value,disabled:$.disabled,onClick:O=>e.unref(H)($.value,Q,$.disabled),onMouseover:O=>e.unref(V)($.value)},[Z.$slots.quarter?e.renderSlot(Z.$slots,"quarter",{key:0,value:$.value,text:$.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString($.text),1)],64))],42,mr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),gr=["id","tabindex","role","aria-label"],yr={key:0,class:"dp--menu-load-container"},hr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],kr={key:1,class:"dp--menu-header"},br={key:0,class:"dp__sidebar_left"},vr=["data-test","onClick","onKeydown"],wr={key:2,class:"dp__sidebar_right"},Mr={key:3,class:"dp__action_extra"},En=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...pt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.ref(null),f=e.computed(()=>{const{openOnTop:S,..._}=r;return{..._,flowStep:X.value,collapse:r.collapse,noOverlayFocus:r.noOverlayFocus,menuWrapRef:c.value}}),{setMenuFocused:M,setShiftKey:m,control:I}=Dn(),y=e.useSlots(),{defaultedTextInput:N,defaultedInline:w,defaultedConfig:A,defaultedUI:L}=ye(r),V=e.ref(null),H=e.ref(0),p=e.ref(null),R=e.ref(!1),T=e.ref(null);e.onMounted(()=>{if(!r.shadow){R.value=!0,x(),window.addEventListener("resize",x);const S=we(c);if(S&&!N.value.enabled&&!w.value.enabled&&(M(!0),J()),S){const _=oe=>{A.value.allowPreventDefault&&oe.preventDefault(),Ie(oe,A.value,!0)};S.addEventListener("pointerdown",_),S.addEventListener("mousedown",_)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",x)});const x=()=>{const S=we(p);S&&(H.value=S.getBoundingClientRect().width)},{arrowRight:Z,arrowLeft:ne,arrowDown:Q,arrowUp:$}=He(),{flowStep:X,updateFlowStep:O,childMount:G,resetFlow:re,handleFlow:se}=Tr(r,a,T),b=e.computed(()=>r.monthPicker?$a:r.yearPicker?Pa:r.timePicker?qa:r.quarterPicker?pr:cr),U=e.computed(()=>{var oe;if(A.value.arrowLeft)return A.value.arrowLeft;const S=(oe=c.value)==null?void 0:oe.getBoundingClientRect(),_=r.getInputRect();return(_==null?void 0:_.width)<(H==null?void 0:H.value)&&(_==null?void 0:_.left)<=((S==null?void 0:S.left)??0)?`${(_==null?void 0:_.width)/2}px`:(_==null?void 0:_.right)>=((S==null?void 0:S.right)??0)&&(_==null?void 0:_.width)<(H==null?void 0:H.value)?`${(H==null?void 0:H.value)-(_==null?void 0:_.width)/2}px`:"50%"}),J=()=>{const S=we(c);S&&S.focus({preventScroll:!0})},h=e.computed(()=>{var S;return((S=T.value)==null?void 0:S.getSidebarProps())||{}}),q=()=>{r.openOnTop&&a("recalculate-position")},C=Ae(y,"action"),F=e.computed(()=>r.monthPicker||r.yearPicker?Ae(y,"monthYear"):r.timePicker?Ae(y,"timePicker"):Ae(y,"shared")),le=e.computed(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),d=e.computed(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),g=e.computed(()=>({dp__menu:!0,dp__menu_index:!w.value.enabled,dp__relative:w.value.enabled,...L.value.menu??{}})),z=S=>{Ie(S,A.value,!0)},u=()=>{r.escClose&&a("close-picker")},v=S=>{if(r.arrowNavigation){if(S===Be.up)return $();if(S===Be.down)return Q();if(S===Be.left)return ne();if(S===Be.right)return Z()}else S===Be.left||S===Be.up?B("handleArrow",Be.left,0,S===Be.up):B("handleArrow",Be.right,0,S===Be.down)},Y=S=>{m(S.shiftKey),!r.disableMonthYearSelect&&S.code===pe.tab&&S.target.classList.contains("dp__menu")&&I.value.shiftKeyInMenu&&(S.preventDefault(),Ie(S,A.value,!0),a("close-picker"))},i=()=>{J(),a("time-picker-close")},ee=S=>{var _,oe,de;(_=T.value)==null||_.toggleTimePicker(!1,!1),(oe=T.value)==null||oe.toggleMonthPicker(!1,!1,S),(de=T.value)==null||de.toggleYearPicker(!1,!1,S)},ue=(S,_=0)=>{var oe,de,Re;return S==="month"?(oe=T.value)==null?void 0:oe.toggleMonthPicker(!1,!0,_):S==="year"?(de=T.value)==null?void 0:de.toggleYearPicker(!1,!0,_):S==="time"?(Re=T.value)==null?void 0:Re.toggleTimePicker(!0,!1):ee(_)},B=(S,..._)=>{var oe,de;(oe=T.value)!=null&&oe[S]&&((de=T.value)==null||de[S](..._))},ce=()=>{B("selectCurrentDate")},o=(S,_)=>{B("presetDate",S,_)},E=()=>{B("clearHoverDate")},P=(S,_)=>{B("updateMonthYear",S,_)},W=(S,_)=>{S.preventDefault(),v(_)},ae=S=>{var _,oe,de;if(Y(S),S.key===pe.home||S.key===pe.end)return B("selectWeekDate",S.key===pe.home,S.target.getAttribute("id"));switch((S.key===pe.pageUp||S.key===pe.pageDown)&&(S.shiftKey?(B("changeYear",S.key===pe.pageUp),(_=Pt(c.value,"overlay-year"))==null||_.focus()):(B("changeMonth",S.key===pe.pageUp),(oe=Pt(c.value,S.key===pe.pageUp?"action-prev":"action-next"))==null||oe.focus()),S.target.getAttribute("id")&&((de=c.value)==null||de.focus({preventScroll:!0}))),S.key){case pe.esc:return u();case pe.arrowLeft:return W(S,Be.left);case pe.arrowRight:return W(S,Be.right);case pe.arrowUp:return W(S,Be.up);case pe.arrowDown:return W(S,Be.down);default:return}};return n({updateMonthYear:P,switchView:ue,handleFlow:se}),(S,_)=>{var oe,de,Re;return e.openBlock(),e.createElementBlock("div",{id:S.uid?`dp-menu-${S.uid}`:void 0,ref_key:"dpMenuRef",ref:c,tabindex:e.unref(w).enabled?void 0:"0",role:e.unref(w).enabled?void 0:"dialog","aria-label":(oe=S.ariaLabels)==null?void 0:oe.menu,class:e.normalizeClass(g.value),style:e.normalizeStyle({"--dp-arrow-left":U.value}),onMouseleave:E,onClick:z,onKeydown:ae},[(S.disabled||S.readonly)&&e.unref(w).enabled||S.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(d.value)},[S.loading?(e.openBlock(),e.createElementBlock("div",yr,hr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),S.$slots["menu-header"]?(e.openBlock(),e.createElementBlock("div",kr,[e.renderSlot(S.$slots,"menu-header")])):e.createCommentVNode("",!0),!e.unref(w).enabled&&!S.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(le.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:p,class:e.normalizeClass({dp__menu_content_wrapper:((de=S.presetDates)==null?void 0:de.length)||!!S.$slots["left-sidebar"]||!!S.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Re=S.presetDates)==null?void 0:Re.length)||!!S.$slots["left-sidebar"]||!!S.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${H.value}px`})},[S.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",br,[e.renderSlot(S.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(h.value)))])):e.createCommentVNode("",!0),S.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(S.presetDates,(ie,je)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:je},[ie.slot?e.renderSlot(S.$slots,ie.slot,{key:0,presetDate:o,label:ie.label,value:ie.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ie.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":ie.testId??void 0,onClick:e.withModifiers(Ye=>o(ie.value,ie.noTz),["prevent"]),onKeydown:Ye=>e.unref(Ce)(Ye,()=>o(ie.value,ie.noTz),!0)},e.toDisplayString(ie.label),47,vr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:V,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(b.value),e.mergeProps({ref_key:"dynCmpRef",ref:T},f.value,{"flow-step":e.unref(X),onMount:e.unref(G),onUpdateFlowStep:e.unref(O),onResetFlow:e.unref(re),onFocusMenu:J,onSelectDate:_[0]||(_[0]=ie=>S.$emit("select-date")),onDateUpdate:_[1]||(_[1]=ie=>S.$emit("date-update",ie)),onTooltipOpen:_[2]||(_[2]=ie=>S.$emit("tooltip-open",ie)),onTooltipClose:_[3]||(_[3]=ie=>S.$emit("tooltip-close",ie)),onAutoApply:_[4]||(_[4]=ie=>S.$emit("auto-apply",ie)),onRangeStart:_[5]||(_[5]=ie=>S.$emit("range-start",ie)),onRangeEnd:_[6]||(_[6]=ie=>S.$emit("range-end",ie)),onInvalidFixedRange:_[7]||(_[7]=ie=>S.$emit("invalid-fixed-range",ie)),onTimeUpdate:_[8]||(_[8]=ie=>S.$emit("time-update")),onAmPmChange:_[9]||(_[9]=ie=>S.$emit("am-pm-change",ie)),onTimePickerOpen:_[10]||(_[10]=ie=>S.$emit("time-picker-open",ie)),onTimePickerClose:i,onRecalculatePosition:q,onUpdateMonthYear:_[11]||(_[11]=ie=>S.$emit("update-month-year",ie)),onAutoApplyInvalid:_[12]||(_[12]=ie=>S.$emit("auto-apply-invalid",ie)),onInvalidDate:_[13]||(_[13]=ie=>S.$emit("invalid-date",ie)),onOverlayToggle:_[14]||(_[14]=ie=>S.$emit("overlay-toggle",ie)),"onUpdate:internalModelValue":_[15]||(_[15]=ie=>S.$emit("update:internal-model-value",ie))}),e.createSlots({_:2},[e.renderList(F.value,(ie,je)=>({name:ie,fn:e.withCtx(Ye=>[e.renderSlot(S.$slots,ie,e.normalizeProps(e.guardReactiveProps({...Ye})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),S.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",wr,[e.renderSlot(S.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(h.value)))])):e.createCommentVNode("",!0),S.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Mr,[S.$slots["action-extra"]?e.renderSlot(S.$slots,"action-extra",{key:0,selectCurrentDate:ce}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!S.autoApply||e.unref(A).keepActionRow?(e.openBlock(),e.createBlock(va,e.mergeProps({key:3,"menu-mount":R.value},f.value,{"calendar-width":H.value,onClosePicker:_[16]||(_[16]=ie=>S.$emit("close-picker")),onSelectDate:_[17]||(_[17]=ie=>S.$emit("select-date")),onInvalidSelect:_[18]||(_[18]=ie=>S.$emit("invalid-select")),onSelectNow:ce}),e.createSlots({_:2},[e.renderList(e.unref(C),(ie,je)=>({name:ie,fn:e.withCtx(Ye=>[e.renderSlot(S.$slots,ie,e.normalizeProps(e.guardReactiveProps({...Ye})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,gr)}}});var et=(t=>(t.center="center",t.left="left",t.right="right",t))(et||{});const Dr=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:a,inline:r,emit:c,props:f,slots:M})=>{const{defaultedConfig:m}=ye(f),I=e.ref({}),y=e.ref(!1),N=e.ref({top:"0",left:"0"}),w=e.ref(!1),A=e.toRef(f,"teleportCenter");e.watch(A,()=>{N.value=JSON.parse(JSON.stringify({})),Z()});const L=h=>{if(f.teleport){const q=h.getBoundingClientRect();return{left:q.left+window.scrollX,top:q.top+window.scrollY}}return{top:0,left:0}},V=(h,q)=>{N.value.left=`${h+q-I.value.width}px`},H=h=>{N.value.left=`${h}px`},p=(h,q)=>{f.position===et.left&&H(h),f.position===et.right&&V(h,q),f.position===et.center&&(N.value.left=`${h+q/2-I.value.width/2}px`)},R=h=>{const{width:q,height:C}=h.getBoundingClientRect(),{top:F,left:le}=f.altPosition?f.altPosition(h):L(h);return{top:+F,left:+le,width:q,height:C}},T=()=>{N.value.left="50%",N.value.top="50%",N.value.transform="translate(-50%, -50%)",N.value.position="fixed",delete N.value.opacity},x=()=>{const h=we(l),{top:q,left:C,transform:F}=f.altPosition(h);N.value={top:`${q}px`,left:`${C}px`,transform:F??""}},Z=(h=!0)=>{var q;if(!r.value.enabled){if(A.value)return T();if(f.altPosition!==null)return x();if(h){const C=f.teleport?(q=n.value)==null?void 0:q.$el:t.value;C&&(I.value=C.getBoundingClientRect()),c("recalculate-position")}return re()}},ne=({inputEl:h,left:q,width:C})=>{window.screen.width>768&&!y.value&&p(q,C),X(h)},Q=h=>{const{top:q,left:C,height:F,width:le}=R(h);N.value.top=`${F+q+ +f.offset}px`,w.value=!1,y.value||(N.value.left=`${C+le/2-I.value.width/2}px`),ne({inputEl:h,left:C,width:le})},$=h=>{const{top:q,left:C,width:F}=R(h);N.value.top=`${q-+f.offset-I.value.height}px`,w.value=!0,ne({inputEl:h,left:C,width:F})},X=h=>{if(f.autoPosition){const{left:q,width:C}=R(h),{left:F,right:le}=I.value;if(!y.value){if(Math.abs(F)!==Math.abs(le)){if(F<=0)return y.value=!0,H(q);if(le>=document.documentElement.clientWidth)return y.value=!0,V(q,C)}return p(q,C)}}},O=()=>{const h=we(l);if(h){const{height:q}=I.value,{top:C,height:F}=h.getBoundingClientRect(),d=window.innerHeight-C-F,g=C;return q<=d?Ke.bottom:q>d&&q<=g?Ke.top:d>=g?Ke.bottom:Ke.top}return Ke.bottom},G=h=>O()===Ke.bottom?Q(h):$(h),re=()=>{const h=we(l);if(h)return f.autoPosition?G(h):Q(h)},se=function(h){if(h){const q=h.scrollHeight>h.clientHeight,F=window.getComputedStyle(h).overflowY.indexOf("hidden")!==-1;return q&&!F}return!0},b=function(h){return!h||h===document.body||h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:se(h)?h:b(h.assignedSlot&&m.value.shadowDom?h.assignedSlot.parentNode:h.parentNode)},U=h=>{if(h)switch(f.position){case et.left:return{left:0,transform:"translateX(0)"};case et.right:return{left:`${h.width}px`,transform:"translateX(-100%)"};default:return{left:`${h.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:w,menuStyle:N,xCorrect:y,setMenuPosition:Z,getScrollableParent:b,shadowRender:(h,q)=>{var u,v,Y;const C=document.createElement("div"),F=(u=we(l))==null?void 0:u.getBoundingClientRect();C.setAttribute("id","dp--temp-container");const le=(v=a.value)!=null&&v.clientWidth?a.value:document.body;le.append(C);const d=U(F),g=m.value.shadowDom?Object.keys(M).filter(i=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(i)):Object.keys(M),z=e.h(h,{...q,shadow:!0,style:{opacity:0,position:"absolute",...d}},Object.fromEntries(g.map(i=>[i,M[i]])));e.render(z,C),I.value=(Y=z.el)==null?void 0:Y.getBoundingClientRect(),e.render(null,C),le.removeChild(C)}}},Ue=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],Sr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Br={all:()=>Ue,monthYear:()=>Ue.filter(t=>t.use.includes("month-year")),input:()=>Sr,timePicker:()=>Ue.filter(t=>t.use.includes("time")),action:()=>Ue.filter(t=>t.use.includes("action")),calendar:()=>Ue.filter(t=>t.use.includes("calendar")),menu:()=>Ue.filter(t=>t.use.includes("menu")),shared:()=>Ue.filter(t=>t.use.includes("shared")),yearMode:()=>Ue.filter(t=>t.use.includes("year-mode"))},Ae=(t,n,l)=>{const a=[];return Br[n]().forEach(r=>{t[r.name]&&a.push(r.name)}),l!=null&&l.length&&l.forEach(r=>{r.slot&&a.push(r.slot)}),a},lt=t=>{const n=e.computed(()=>a=>t.value?a?t.value.open:t.value.close:""),l=e.computed(()=>a=>t.value?a?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},ot=(t,n,l)=>{const{defaultedRange:a,defaultedTz:r}=ye(t),c=K($e(K(),r.value.timezone)),f=e.ref([{month:s.getMonth(c),year:s.getYear(c)}]),M=w=>{const A={hours:s.getHours(c),minutes:s.getMinutes(c),seconds:0};return a.value.enabled?[A[w],A[w]]:A[w]},m=e.reactive({hours:M("hours"),minutes:M("minutes"),seconds:M("seconds")});e.watch(a,(w,A)=>{w.enabled!==A.enabled&&(m.hours=M("hours"),m.minutes=M("minutes"),m.seconds=M("seconds"))},{deep:!0});const I=e.computed({get:()=>t.internalModelValue,set:w=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",w)}}),y=e.computed(()=>w=>f.value[w]?f.value[w].month:0),N=e.computed(()=>w=>f.value[w]?f.value[w].year:0);return e.watch(I,(w,A)=>{l&&JSON.stringify(w??{})!==JSON.stringify(A??{})&&l()},{deep:!0}),{calendars:f,time:m,modelValue:I,month:y,year:N,today:c}},Cr=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:c,defaultedTz:f,propDates:M,defaultedRange:m}=ye(n),{isDisabled:I}=We(n),y=e.ref(null),N=e.ref($e(new Date,f.value.timezone)),w=u=>{!u.current&&n.hideOffsetDates||(y.value=u.value)},A=()=>{y.value=null},L=u=>Array.isArray(t.value)&&m.value.enabled&&t.value[0]&&y.value?u?ke(y.value,t.value[0]):he(y.value,t.value[0]):!0,V=(u,v)=>{const Y=()=>t.value?v?t.value[0]||null:t.value[1]:null,i=t.value&&Array.isArray(t.value)?Y():null;return fe(K(u.value),i)},H=u=>{const v=Array.isArray(t.value)?t.value[0]:null;return u?!he(y.value??null,v):!0},p=(u,v=!0)=>(m.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!u.current?!1:fe(K(u.value),t.value[v?0:1]):m.value.enabled?V(u,v)&&H(v)||fe(u.value,Array.isArray(t.value)?t.value[0]:null)&&L(v):!1,R=(u,v)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const Y=fe(u.value,y.value);return v?ke(t.value[0],u.value)&&Y:he(t.value[0],u.value)&&Y}return!1},T=u=>!t.value||n.hideOffsetDates&&!u.current?!1:m.value.enabled?n.modelAuto&&Array.isArray(t.value)?fe(u.value,t.value[0]?t.value[0]:N.value):!1:a.value.enabled&&Array.isArray(t.value)?t.value.some(v=>fe(v,u.value)):fe(u.value,t.value?t.value:N.value),x=u=>{if(m.value.autoRange||n.weekPicker){if(y.value){if(n.hideOffsetDates&&!u.current)return!1;const v=s.addDays(y.value,+m.value.autoRange),Y=Ve(K(y.value),n.weekStart);return n.weekPicker?fe(Y[1],K(u.value)):fe(v,K(u.value))}return!1}return!1},Z=u=>{if(m.value.autoRange||n.weekPicker){if(y.value){const v=s.addDays(y.value,+m.value.autoRange);if(n.hideOffsetDates&&!u.current)return!1;const Y=Ve(K(y.value),n.weekStart);return n.weekPicker?ke(u.value,Y[0])&&he(u.value,Y[1]):ke(u.value,y.value)&&he(u.value,v)}return!1}return!1},ne=u=>{if(m.value.autoRange||n.weekPicker){if(y.value){if(n.hideOffsetDates&&!u.current)return!1;const v=Ve(K(y.value),n.weekStart);return n.weekPicker?fe(v[0],u.value):fe(y.value,u.value)}return!1}return!1},Q=u=>dt(t.value,y.value,u.value),$=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,X=()=>n.modelAuto?on(n.internalModelValue):!0,O=u=>{if(n.weekPicker)return!1;const v=m.value.enabled?!p(u)&&!p(u,!1):!0;return!I(u.value)&&!T(u)&&!(!u.current&&n.hideOffsetDates)&&v},G=u=>m.value.enabled?n.modelAuto?$()&&T(u):!1:T(u),re=u=>c.value?Kn(u.value,M.value.highlight):!1,se=u=>{const v=I(u.value);return v&&(typeof c.value=="function"?!c.value(u.value,v):!c.value.options.highlightDisabled)},b=u=>{var v;return typeof c.value=="function"?c.value(u.value):(v=c.value.weekdays)==null?void 0:v.includes(u.value.getDay())},U=u=>(m.value.enabled||n.weekPicker)&&(!(l.value.count>0)||u.current)&&X()&&!(!u.current&&n.hideOffsetDates)&&!T(u)?Q(u):!1,J=u=>{const{isRangeStart:v,isRangeEnd:Y}=F(u),i=m.value.enabled?v||Y:!1;return{dp__cell_offset:!u.current,dp__pointer:!n.disabled&&!(!u.current&&n.hideOffsetDates)&&!I(u.value),dp__cell_disabled:I(u.value),dp__cell_highlight:!se(u)&&(re(u)||b(u))&&!G(u)&&!i&&!ne(u)&&!(U(u)&&n.weekPicker)&&!Y,dp__cell_highlight_active:!se(u)&&(re(u)||b(u))&&G(u),dp__today:!n.noToday&&fe(u.value,N.value)&&u.current,"dp--past":he(u.value,N.value),"dp--future":ke(u.value,N.value)}},h=u=>({dp__active_date:G(u),dp__date_hover:O(u)}),q=u=>{if(t.value&&!Array.isArray(t.value)){const v=Ve(t.value,n.weekStart);return{...d(u),dp__range_start:fe(v[0],u.value),dp__range_end:fe(v[1],u.value),dp__range_between_week:ke(u.value,v[0])&&he(u.value,v[1])}}return{...d(u)}},C=u=>{if(t.value&&Array.isArray(t.value)){const v=Ve(t.value[0],n.weekStart),Y=t.value[1]?Ve(t.value[1],n.weekStart):[];return{...d(u),dp__range_start:fe(v[0],u.value)||fe(Y[0],u.value),dp__range_end:fe(v[1],u.value)||fe(Y[1],u.value),dp__range_between_week:ke(u.value,v[0])&&he(u.value,v[1])||ke(u.value,Y[0])&&he(u.value,Y[1]),dp__range_between:ke(u.value,v[1])&&he(u.value,Y[0])}}return{...d(u)}},F=u=>{const v=l.value.count>0?u.current&&p(u)&&X():p(u)&&X(),Y=l.value.count>0?u.current&&p(u,!1)&&X():p(u,!1)&&X();return{isRangeStart:v,isRangeEnd:Y}},le=u=>{const{isRangeStart:v,isRangeEnd:Y}=F(u);return{dp__range_start:v,dp__range_end:Y,dp__range_between:U(u),dp__date_hover:fe(u.value,y.value)&&!v&&!Y&&!n.weekPicker,dp__date_hover_start:R(u,!0),dp__date_hover_end:R(u,!1)}},d=u=>({...le(u),dp__cell_auto_range:Z(u),dp__cell_auto_range_start:ne(u),dp__cell_auto_range_end:x(u)}),g=u=>m.value.enabled?m.value.autoRange?d(u):n.modelAuto?{...h(u),...le(u)}:n.weekPicker?C(u):le(u):n.weekPicker?q(u):h(u);return{setHoverDate:w,clearHoverDate:A,getDayClassData:u=>n.hideOffsetDates&&!u.current?{}:{...J(u),...g(u),[n.dayClass?n.dayClass(u.value,n.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},We=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:a,defaultedMultiDates:r}=ye(t),c=b=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(K(b)):!!ct(b,a.value.disabledDates):!1,f=b=>a.value.maxDate?t.yearPicker?s.getYear(b)>s.getYear(a.value.maxDate):ke(b,a.value.maxDate):!1,M=b=>a.value.minDate?t.yearPicker?s.getYear(b)<s.getYear(a.value.minDate):he(b,a.value.minDate):!1,m=b=>{const U=f(b),J=M(b),h=c(b),C=n.value.months.map(z=>+z).includes(s.getMonth(b)),F=t.disabledWeekDays.length?t.disabledWeekDays.some(z=>+z===s.getDay(b)):!1,le=A(b),d=s.getYear(b),g=d<+t.yearRange[0]||d>+t.yearRange[1];return!(U||J||h||C||g||F||le)},I=(b,U)=>he(...Le(a.value.minDate,b,U))||fe(...Le(a.value.minDate,b,U)),y=(b,U)=>ke(...Le(a.value.maxDate,b,U))||fe(...Le(a.value.maxDate,b,U)),N=(b,U,J)=>{let h=!1;return a.value.maxDate&&J&&y(b,U)&&(h=!0),a.value.minDate&&!J&&I(b,U)&&(h=!0),h},w=(b,U,J,h)=>{let q=!1;return h&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?q=N(b,U,J):(a.value.minDate&&I(b,U)||a.value.maxDate&&y(b,U))&&(q=!0):q=!0,q},A=b=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!ct(b,a.value.allowedDates):!1,L=b=>!m(b),V=b=>l.value.noDisabledRange?!s.eachDayOfInterval({start:b[0],end:b[1]}).some(J=>L(J)):!0,H=b=>{if(b){const U=s.getYear(b);return U>=+t.yearRange[0]&&U<=t.yearRange[1]}return!0},p=(b,U)=>!!(Array.isArray(b)&&b[U]&&(l.value.maxRange||l.value.minRange)&&H(b[U])),R=(b,U,J=0)=>{if(p(U,J)&&H(b)){const h=s.differenceInCalendarDays(b,U[J]),q=yn(U[J],b),C=q.length===1?0:q.filter(le=>L(le)).length,F=Math.abs(h)-(l.value.minMaxRawRange?0:C);if(l.value.minRange&&l.value.maxRange)return F>=+l.value.minRange&&F<=+l.value.maxRange;if(l.value.minRange)return F>=+l.value.minRange;if(l.value.maxRange)return F<=+l.value.maxRange}return!0},T=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,x=b=>Array.isArray(b)?[b[0]?_t(b[0]):null,b[1]?_t(b[1]):null]:_t(b),Z=(b,U,J)=>b.find(h=>+h.hours===s.getHours(U)&&h.minutes==="*"?!0:+h.minutes===s.getMinutes(U)&&+h.hours===s.getHours(U))&&J,ne=(b,U,J)=>{const[h,q]=b,[C,F]=U;return!Z(h,C,J)&&!Z(q,F,J)&&J},Q=(b,U)=>{const J=Array.isArray(U)?U:[U];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?ne(t.disabledTimes,J,b):!J.some(h=>Z(t.disabledTimes,h,b)):b},$=(b,U)=>{const J=Array.isArray(U)?[qe(U[0]),U[1]?qe(U[1]):void 0]:qe(U),h=!t.disabledTimes(J);return b&&h},X=(b,U)=>t.disabledTimes?Array.isArray(t.disabledTimes)?Q(U,b):$(U,b):U,O=b=>{let U=!0;if(!b||T())return!0;const J=!a.value.minDate&&!a.value.maxDate?x(b):b;return(t.maxTime||a.value.maxDate)&&(U=vn(t.maxTime,a.value.maxDate,"max",ve(J),U)),(t.minTime||a.value.minDate)&&(U=vn(t.minTime,a.value.minDate,"min",ve(J),U)),X(b,U)},G=b=>{if(!t.monthPicker)return!0;let U=!0;const J=K(Ee(b));if(a.value.minDate&&a.value.maxDate){const h=K(Ee(a.value.minDate)),q=K(Ee(a.value.maxDate));return ke(J,h)&&he(J,q)||fe(J,h)||fe(J,q)}if(a.value.minDate){const h=K(Ee(a.value.minDate));U=ke(J,h)||fe(J,h)}if(a.value.maxDate){const h=K(Ee(a.value.maxDate));U=he(J,h)||fe(J,h)}return U},re=e.computed(()=>b=>!t.enableTimePicker||t.ignoreTimeValidation?!0:O(b)),se=e.computed(()=>b=>t.monthPicker?Array.isArray(b)&&(l.value.enabled||r.value.enabled)?!b.filter(J=>!G(J)).length:G(b):!0);return{isDisabled:L,validateDate:m,validateMonthYearInRange:w,isDateRangeAllowed:V,checkMinMaxRange:R,isValidTime:O,isTimeValid:re,isMonthValid:se}},ht=()=>{const t=e.computed(()=>(a,r)=>a==null?void 0:a.includes(r)),n=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),l=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},Tr=(t,n,l)=>{const a=e.ref(0),r=e.reactive({[xe.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[xe.calendar]:!1,[xe.header]:!1}),c=e.computed(()=>t.monthPicker||t.timePicker),f=N=>{var w;if((w=t.flow)!=null&&w.length){if(!N&&c.value)return y();r[N]=!0,Object.keys(r).filter(A=>!r[A]).length||y()}},M=()=>{var N,w;(N=t.flow)!=null&&N.length&&a.value!==-1&&(a.value+=1,n("flow-step",a.value),y()),((w=t.flow)==null?void 0:w.length)===a.value&&e.nextTick().then(()=>m())},m=()=>{a.value=-1},I=(N,w,...A)=>{var L,V;t.flow[a.value]===N&&l.value&&((V=(L=l.value)[w])==null||V.call(L,...A))},y=(N=0)=>{N&&(a.value+=N),I(De.month,"toggleMonthPicker",!0),I(De.year,"toggleYearPicker",!0),I(De.calendar,"toggleTimePicker",!1,!0),I(De.time,"toggleTimePicker",!0,!0);const w=t.flow[a.value];(w===De.hours||w===De.minutes||w===De.seconds)&&I(w,"toggleTimePicker",!0,!0,w)};return{childMount:f,updateFlowStep:M,resetFlow:m,handleFlow:y,flowStep:a}},$r={key:1,class:"dp__input_wrap"},Ar=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-disabled","aria-invalid"],Pr={key:2,class:"dp--clear-btn"},Rr=["aria-label"],Nr=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...pt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTextInput:c,defaultedAriaLabels:f,defaultedInline:M,defaultedConfig:m,defaultedRange:I,defaultedMultiDates:y,defaultedUI:N,getDefaultPattern:w,getDefaultStartTime:A}=ye(r),{checkMinMaxRange:L}=We(r),V=e.ref(),H=e.ref(null),p=e.ref(!1),R=e.ref(!1),T=e.ref(!1),x=e.ref(null),Z=e.computed(()=>({dp__pointer:!r.disabled&&!r.readonly&&!c.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!c.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:p.value||r.isMenuOpen,dp__input_reg:!c.value.enabled,...N.value.input??{}})),ne=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),V.value=null)},Q=d=>{const g=A();return xn(d,c.value.format??w(),g??hn({},r.enableSeconds),r.inputValue,T.value,r.formatLocale)},$=d=>{const{rangeSeparator:g}=c.value,[z,u]=d.split(`${g}`);if(z){const v=Q(z.trim()),Y=u?Q(u.trim()):null;if(s.isAfter(v,Y))return;const i=v&&Y?[v,Y]:[v];L(Y,i,0)&&(V.value=v?i:null)}},X=()=>{T.value=!0},O=d=>{if(I.value.enabled)$(d);else if(y.value.enabled){const g=d.split(";");V.value=g.map(z=>Q(z.trim())).filter(z=>z)}else V.value=Q(d)},G=d=>{var z;const g=typeof d=="string"?d:(z=d.target)==null?void 0:z.value;g!==""?(c.value.openMenu&&!r.isMenuOpen&&a("open"),O(g),a("set-input-date",V.value)):ne(),T.value=!1,a("update:input-value",g),a("text-input",d,V.value)},re=d=>{c.value.enabled?(O(d.target.value),c.value.enterSubmit&&Ot(V.value)&&r.inputValue!==""?(a("set-input-date",V.value,!0),V.value=null):c.value.enterSubmit&&r.inputValue===""&&(V.value=null,a("clear"))):U(d)},se=(d,g)=>{var z;x.value&&g&&!R.value&&(d.preventDefault(),R.value=!0,(z=x.value)==null||z.focus()),c.value.enabled&&c.value.tabSubmit&&O(d.target.value),c.value.tabSubmit&&Ot(V.value)&&r.inputValue!==""?(a("set-input-date",V.value,!0,!0),V.value=null):c.value.tabSubmit&&r.inputValue===""&&(V.value=null,a("clear",!0))},b=()=>{p.value=!0,a("focus"),e.nextTick().then(()=>{var d;c.value.enabled&&c.value.selectOnFocus&&((d=H.value)==null||d.select())})},U=d=>{if(d.preventDefault(),Ie(d,m.value,!0),c.value.enabled&&c.value.openMenu&&!M.value.input){if(c.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(c.value.openMenu==="toggle")return a("toggle")}else c.value.enabled||a("toggle")},J=()=>{a("real-blur"),p.value=!1,(!r.isMenuOpen||M.value.enabled&&M.value.input)&&a("blur"),r.autoApply&&c.value.enabled&&V.value&&!r.isMenuOpen&&(a("set-input-date",V.value),a("select-date"),V.value=null)},h=d=>{Ie(d,m.value,!0),a("clear")},q=(d,g)=>{if(d.key==="Tab"&&se(d,g),d.key==="Enter"&&re(d),!c.value.enabled){if(d.code==="Tab")return;d.preventDefault()}},C=()=>{var d;(d=H.value)==null||d.focus({preventScroll:!0})},F=d=>{V.value=d},le=d=>{d.key===pe.tab&&(R.value=!1,se(d))};return n({focusInput:C,setParsedDate:F}),(d,g)=>{var z,u;return e.openBlock(),e.createElementBlock("div",{onClick:U},[d.$slots.trigger&&!d.$slots["dp-input"]&&!e.unref(M).enabled?e.renderSlot(d.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!d.$slots.trigger&&(!e.unref(M).enabled||e.unref(M).input)?(e.openBlock(),e.createElementBlock("div",$r,[d.$slots["dp-input"]&&!d.$slots.trigger&&(!e.unref(M).enabled||e.unref(M).enabled&&e.unref(M).input)?e.renderSlot(d.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:G,onEnter:re,onTab:se,onClear:h,onBlur:J,onKeypress:q,onPaste:X,onFocus:b,openMenu:()=>d.$emit("open"),closeMenu:()=>d.$emit("close"),toggleMenu:()=>d.$emit("toggle")}):e.createCommentVNode("",!0),d.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:d.uid?`dp-input-${d.uid}`:void 0,ref_key:"inputRef",ref:H,"data-test":"dp-input",name:d.name,class:e.normalizeClass(Z.value),inputmode:e.unref(c).enabled?"text":"none",placeholder:d.placeholder,disabled:d.disabled,readonly:d.readonly,required:d.required,value:t.inputValue,autocomplete:d.autocomplete,"aria-disabled":d.disabled||void 0,"aria-invalid":d.state===!1?!0:void 0,onInput:G,onBlur:J,onFocus:b,onKeypress:q,onKeydown:g[0]||(g[0]=v=>q(v,!0)),onPaste:X},null,42,Ar)),e.createElementVNode("div",{onClick:g[3]||(g[3]=v=>a("toggle"))},[d.$slots["input-icon"]&&!d.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:g[1]||(g[1]=v=>a("toggle"))},[e.renderSlot(d.$slots,"input-icon")])):e.createCommentVNode("",!0),!d.$slots["input-icon"]&&!d.hideInputIcon&&!d.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Xe),{key:1,"aria-label":(z=e.unref(f))==null?void 0:z.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:g[2]||(g[2]=v=>a("toggle"))},null,8,["aria-label"])):e.createCommentVNode("",!0)]),d.$slots["clear-icon"]&&t.inputValue&&d.clearable&&!d.disabled&&!d.readonly?(e.openBlock(),e.createElementBlock("span",Pr,[e.renderSlot(d.$slots,"clear-icon",{clear:h})])):e.createCommentVNode("",!0),d.clearable&&!d.$slots["clear-icon"]&&t.inputValue&&!d.disabled&&!d.readonly?(e.openBlock(),e.createElementBlock("button",{key:3,ref_key:"clearBtnRef",ref:x,"aria-label":(u=e.unref(f))==null?void 0:u.clearInput,class:"dp--clear-btn",type:"button",onBlur:g[4]||(g[4]=v=>R.value=!1),onKeydown:g[5]||(g[5]=v=>e.unref(Ce)(v,()=>h(v),!0,le)),onClick:g[6]||(g[6]=e.withModifiers(v=>h(v),["prevent"]))},[e.createVNode(e.unref(an),{class:"dp__input_icons","data-test":"clear-icon"})],40,Rr)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Er=typeof window<"u"?window:void 0,xt=()=>{},Or=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Yr=(t,n,l,a)=>{if(!t)return xt;let r=xt;const c=e.watch(()=>e.unref(t),M=>{r(),M&&(M.addEventListener(n,l,a),r=()=>{M.removeEventListener(n,l,a),r=xt})},{immediate:!0,flush:"post"}),f=()=>{c(),r()};return Or(f),f},Vr=(t,n,l,a={})=>{const{window:r=Er,event:c="pointerdown"}=a;return r?Yr(r,c,M=>{const m=we(t),I=we(n);!m||!I||m===M.target||M.composedPath().includes(m)||M.composedPath().includes(I)||l(M)},{passive:!0}):void 0},_r=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...pt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=e.ref(!1),M=e.toRef(r,"modelValue"),m=e.toRef(r,"timezone"),I=e.ref(null),y=e.ref(null),N=e.ref(null),w=e.ref(!1),A=e.ref(null),L=e.ref(!1),V=e.ref(!1),H=e.ref(!1),p=e.ref(!1),{setMenuFocused:R,setShiftKey:T}=Dn(),{clearArrowNav:x}=He(),{validateDate:Z,isValidTime:ne}=We(r),{defaultedTransitions:Q,defaultedTextInput:$,defaultedInline:X,defaultedConfig:O,defaultedRange:G,defaultedMultiDates:re}=ye(r),{menuTransition:se,showTransition:b}=lt(Q);e.onMounted(()=>{u(r.modelValue),e.nextTick().then(()=>{if(!X.value.enabled){const k=le(A.value);k==null||k.addEventListener("scroll",P),window==null||window.addEventListener("resize",W)}}),X.value.enabled&&(f.value=!0),window==null||window.addEventListener("keyup",ae),window==null||window.addEventListener("keydown",S)}),e.onUnmounted(()=>{if(!X.value.enabled){const k=le(A.value);k==null||k.removeEventListener("scroll",P),window==null||window.removeEventListener("resize",W)}window==null||window.removeEventListener("keyup",ae),window==null||window.removeEventListener("keydown",S)});const U=Ae(c,"all",r.presetDates),J=Ae(c,"input");e.watch([M,m],()=>{u(M.value)},{deep:!0});const{openOnTop:h,menuStyle:q,xCorrect:C,setMenuPosition:F,getScrollableParent:le,shadowRender:d}=Dr({menuRef:I,menuRefInner:y,inputRef:N,pickerWrapperRef:A,inline:X,emit:a,props:r,slots:c}),{inputValue:g,internalModelValue:z,parseExternalModelValue:u,emitModelValue:v,formatInputValue:Y,checkBeforeEmit:i}=ya(a,r,w),ee=e.computed(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:X.value.enabled,"dp--flex-display-collapsed":H.value,dp__flex_display_with_input:X.value.input})),ue=e.computed(()=>r.dark?"dp__theme_dark":"dp__theme_light"),B=e.computed(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||X.value.enabled}:{}),ce=e.computed(()=>({class:"dp__outer_menu_wrap"})),o=e.computed(()=>X.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),E=()=>{var k,j;return(j=(k=N.value)==null?void 0:k.$el)==null?void 0:j.getBoundingClientRect()},P=()=>{f.value&&(O.value.closeOnScroll?Pe():F())},W=()=>{var j;f.value&&F();const k=(j=y.value)==null?void 0:j.$el.getBoundingClientRect().width;H.value=document.body.offsetWidth<=k},ae=k=>{k.key==="Tab"&&!X.value.enabled&&!r.teleport&&O.value.tabOutClosesMenu&&(A.value.contains(document.activeElement)||Pe()),V.value=k.shiftKey},S=k=>{V.value=k.shiftKey},_=()=>{!r.disabled&&!r.readonly&&(d(En,r),F(!1),f.value=!0,f.value&&a("open"),f.value||st(),u(r.modelValue))},oe=()=>{var k;g.value="",st(),(k=N.value)==null||k.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),O.value.closeOnClearValue&&Pe()},de=()=>{const k=z.value;return!k||!Array.isArray(k)&&Z(k)?!0:Array.isArray(k)?re.value.enabled||k.length===2&&Z(k[0])&&Z(k[1])?!0:G.value.partialRange&&!r.timePicker?Z(k[0]):!1:!1},Re=()=>{i()&&de()?(v(),Pe()):a("invalid-select",z.value)},ie=k=>{je(),v(),O.value.closeOnAutoApply&&!k&&Pe()},je=()=>{N.value&&$.value.enabled&&N.value.setParsedDate(z.value)},Ye=(k=!1)=>{r.autoApply&&ne(z.value)&&de()&&(G.value.enabled&&Array.isArray(z.value)?(G.value.partialRange||z.value.length===2)&&ie(k):ie(k))},st=()=>{$.value.enabled||(z.value=null)},Pe=()=>{X.value.enabled||(f.value&&(f.value=!1,C.value=!1,R(!1),T(!1),x(),a("closed"),g.value&&u(M.value)),st(),a("blur"))},it=(k,j,te=!1)=>{if(!k){z.value=null;return}const me=Array.isArray(k)?!k.some(Ge=>!Z(Ge)):Z(k),Me=ne(k);me&&Me&&(p.value=!0,z.value=k,j&&(L.value=te,Re(),a("text-submit")),e.nextTick().then(()=>{p.value=!1}))},Gt=()=>{r.autoApply&&ne(z.value)&&v(),je()},kt=()=>f.value?Pe():_(),Qt=k=>{z.value=k},Xt=()=>{$.value.enabled&&(w.value=!0,Y()),a("focus")},Jt=()=>{if($.value.enabled&&(w.value=!1,u(r.modelValue),L.value)){const k=jn(A.value,V.value);k==null||k.focus()}a("blur")},Zt=k=>{y.value&&y.value.updateMonthYear(0,{month:sn(k.month),year:sn(k.year)})},Ft=k=>{u(k??r.modelValue)},en=(k,j)=>{var te;(te=y.value)==null||te.switchView(k,j)},On=k=>O.value.onClickOutside?O.value.onClickOutside(k):Pe(),D=(k=0)=>{var j;(j=y.value)==null||j.handleFlow(k)};return Vr(I,N,()=>On(de)),n({closeMenu:Pe,selectDate:Re,clearValue:oe,openMenu:_,onScroll:P,formatInputValue:Y,updateInternalModelValue:Qt,setMonthYear:Zt,parseModel:Ft,switchView:en,toggleMenu:kt,handleFlow:D,dpWrapMenuRef:I}),(k,j)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:A,class:e.normalizeClass(ee.value),"data-datepicker-instance":""},[e.createVNode(Nr,e.mergeProps({ref_key:"inputRef",ref:N,"input-value":e.unref(g),"onUpdate:inputValue":j[0]||(j[0]=te=>e.isRef(g)?g.value=te:null),"is-menu-open":f.value},k.$props,{onClear:oe,onOpen:_,onSetInputDate:it,onSetEmptyDate:e.unref(v),onSelectDate:Re,onToggle:kt,onClose:Pe,onFocus:Xt,onBlur:Jt,onRealBlur:j[1]||(j[1]=te=>w.value=!1),onTextInput:j[2]||(j[2]=te=>k.$emit("text-input",te))}),e.createSlots({_:2},[e.renderList(e.unref(J),(te,me)=>({name:te,fn:e.withCtx(Me=>[e.renderSlot(k.$slots,te,e.normalizeProps(e.guardReactiveProps(Me)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(k.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(B.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(se)(e.unref(h)),css:e.unref(b)&&!e.unref(X).enabled},{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:I},ce.value,{class:{"dp--menu-wrapper":!e.unref(X).enabled},style:e.unref(X).enabled?void 0:e.unref(q)}),[e.createVNode(En,e.mergeProps({ref_key:"dpMenuRef",ref:y},k.$props,{"internal-model-value":e.unref(z),"onUpdate:internalModelValue":j[3]||(j[3]=te=>e.isRef(z)?z.value=te:null),class:{[ue.value]:!0,"dp--menu-wrapper":k.teleport},"open-on-top":e.unref(h),"no-overlay-focus":o.value,collapse:H.value,"get-input-rect":E,"is-text-input-date":p.value,onClosePicker:Pe,onSelectDate:Re,onAutoApply:Ye,onTimeUpdate:Gt,onFlowStep:j[4]||(j[4]=te=>k.$emit("flow-step",te)),onUpdateMonthYear:j[5]||(j[5]=te=>k.$emit("update-month-year",te)),onInvalidSelect:j[6]||(j[6]=te=>k.$emit("invalid-select",e.unref(z))),onAutoApplyInvalid:j[7]||(j[7]=te=>k.$emit("invalid-select",te)),onInvalidFixedRange:j[8]||(j[8]=te=>k.$emit("invalid-fixed-range",te)),onRecalculatePosition:e.unref(F),onTooltipOpen:j[9]||(j[9]=te=>k.$emit("tooltip-open",te)),onTooltipClose:j[10]||(j[10]=te=>k.$emit("tooltip-close",te)),onTimePickerOpen:j[11]||(j[11]=te=>k.$emit("time-picker-open",te)),onTimePickerClose:j[12]||(j[12]=te=>k.$emit("time-picker-close",te)),onAmPmChange:j[13]||(j[13]=te=>k.$emit("am-pm-change",te)),onRangeStart:j[14]||(j[14]=te=>k.$emit("range-start",te)),onRangeEnd:j[15]||(j[15]=te=>k.$emit("range-end",te)),onDateUpdate:j[16]||(j[16]=te=>k.$emit("date-update",te)),onInvalidDate:j[17]||(j[17]=te=>k.$emit("invalid-date",te)),onOverlayToggle:j[18]||(j[18]=te=>k.$emit("overlay-toggle",te))}),e.createSlots({_:2},[e.renderList(e.unref(U),(te,me)=>({name:te,fn:e.withCtx(Me=>[e.renderSlot(k.$slots,te,e.normalizeProps(e.guardReactiveProps({...Me})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),qt=(()=>{const t=_r;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(qt[t]=n)}),qt});
