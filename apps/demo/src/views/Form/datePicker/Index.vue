<template>
  <Page :title="$t('form.label.datePicker')" class="demo">
    <section>
      <h2>{{ $t("form.label.basicInput") }}</h2>

      <!-- eslint-disable -->
       <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="input"
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker v-model="formData.noLabelInput" />
    </section>

    <section>
      <h2>{{ $t("form.label.labelInput") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="arrivalDate"
            label="Arrival date"
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.arrivalDate"
        :label="$t('form.label.arrivalDate')"
      />
    </section>

    <section>
      <h2>{{ $t("form.label.disabled") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="appointDate"
            label="Appointment date"
            disabled
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        import { ref } from vue;

        const appointmentDate = ref(new Date());
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.appointmentDate"
        :label="$t('form.label.appointmentDate')"
        disabled
      />
    </section>

    <section>
      <h2>{{ $t("form.label.disableWeekDays") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="presentationDate"
            :disabled-week-days="[6, 0]"
            label="Presentation date"
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        import { ref } from vue;

        const presentationDate = ref(new Date());
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.presentationDate"
        :disabled-week-days="[6, 0]"
        :label="$t('form.label.presentationDate')"
      />
    </section>

    <section>
      <h2>{{ $t("form.label.customFormat") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="dateOfBirth"
            label="Date of birth"
            format="yyyy/MM/dd"
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        import { ref } from vue;

        const dateOfBirth = ref(new Date());
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.dateOfBirth"
        :label="$t('form.label.dateOfBirth')"
        format="yyyy/MM/dd"
      />
    </section>

    <section>
      <h2>{{ $t("form.label.dateRange") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="dateRange"
            label="Date range"
            range
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";

        const startDate = new Date();
        const endDate = startDate;

        const dateRange = ref([
          startDate,
          new Date(endDate.setDate(endDate.getDate() + 7)),
        ]),
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.dateRange"
        :label="$t('form.label.dateRange')"
        range
      />
    </section>

    <section>
      <h2>{{ $t("form.label.multiCalendars") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="reportDate"
            label="Report date"
            multi-calendars
            range
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";

        const startDate = new Date();
        const endDate = startDate;

        const reportDate = ref([
          startDate,
          new Date(endDate.setDate(endDate.getDate() + 7)),
        ]),
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.reportDate"
        :label="$t('form.label.reportDate')"
        multi-calendars
        range
      />
    </section>

    <section>
      <h2>{{ $t("form.label.dateTimePicker") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="availableDatetime"
            label="Available datetime"
            enable-time-picker
            multi-calendars
            range
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";

        const startDate = new Date();
        const endDate = startDate;

        const availableDatetime = ref([
          startDate,
          new Date(endDate.setDate(endDate.getDate() + 7)),
        ]),
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.availableDatetime"
        :label="$t('form.label.availableDatetime')"
        enable-time-picker
        multi-calendars
        range
      />
    </section>

    <section>
      <h2>{{ $t("form.label.monthPicker") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="month"
            label="Month"
            month-picker
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.month"
        :label="$t('form.label.month')"
        month-picker
      />
    </section>

    <section>
      <h2>{{ $t("form.label.yearPicker") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="year"
            label="Year"
            year-picker
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        import { ref } from "vue";

        const year = ref(new Date().getFullYear()),
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.year"
        :label="$t('form.label.year')"
        year-picker
      />
    </section>

    <section>
      <h2>{{ $t("form.label.timePicker") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="appointmentTime"
            label="Appointment time"
            time-picker
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.time"
        :label="$t('form.label.appointmentTime')"
        time-picker
      />
    </section>

    <section>
      <h2>{{ $t("form.label.inputWithValidation") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;Form&gt;
            &lt;DatePicker 
              v-model="joinedDate"
              :schema="inputSchema"
              label="Joined date"
            /&gt;
          &lt;/Form&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker, Form } from "@dzangolab/vue3-form";
        import { z } from "zod";

        const inputSchema = z.coerce
          .date()
          .max(new Date(), { message: "Please provide a present or past date" });
        &lt;/script&gt;
      </SshPre>
      <!-- eslint-enable -->

      <Form>
        <DatePicker
          v-model="formData.joinedDate"
          :label="$t('form.label.joinedDate')"
          :schema="inputSchema"
        />
      </Form>
    </section>

    <section>
      <h2>{{ $t("form.label.customStyleInput") }}</h2>

      <!-- eslint-disable -->
      <SshPre language="html-vue">
        &lt;template&gt;
          &lt;DatePicker 
            v-model="pickupDate"
            class="custom-style-input"
            label="Pickup date"
          /&gt;
        &lt;/template&gt;

        &lt;script setup lang="ts"&gt;
        import { DatePicker } from "@dzangolab/vue3-form";
        &lt;/script&gt;

        &lt;style lang="css"&gt;
        .custom-style-input input {
          --dp-background-color: #f3f3f3;
          --dp-border-color: var(--dz-primary-color);
          --dp-border-radius: 0.5em;
          --dp-font-size: 1rem;
          --dp-text-color: var(--dz-primary-color);
        }

        .custom-style-input .dp--clear-btn {
          --dp-icon-color: var(--dz-primary-color);
        }

        .custom-style-input .dp__input_icon {
          --dp-icon-color: var(--dz-primary-color);
        }

        .custom-style-input label {
          --_label-color: var(--dz-primary-color);
        }
        &lt;/style&gt;
      </SshPre>
      <!-- eslint-enable -->

      <DatePicker
        v-model="formData.pickupDate"
        :label="$t('form.label.pickupDate')"
        class="custom-style-input"
      />
    </section>
  </Page>
</template>

<script lang="ts">
export default {
  name: "DatePickerInput",
};
</script>

<script setup lang="ts">
import { useI18n } from "@dzangolab/vue3-i18n";
import { DatePicker, Form } from "@dzangolab/vue3-form";
import { reactive, ref } from "vue";
import { z } from "zod";

const { t } = useI18n();

const inputSchema = z.coerce
  .date()
  .max(new Date(), { message: t("form.errors.datePicker.invalid") });

const startDate = new Date();
const endDate = startDate;

let formData = reactive({
  appointmentDate: ref(startDate),
  arrivalDate: ref(),
  availableDatetime: ref([
    startDate,
    new Date(endDate.setDate(endDate.getDate() + 7)),
  ]),
  dateOfBirth: ref(startDate),
  dateRange: ref([startDate, new Date(endDate.setDate(endDate.getDate() + 7))]),
  joinedDate: ref(),
  month: ref(),
  noLabelInput: ref(),
  pickupDate: ref(),
  presentationDate: ref(startDate),
  reportDate: ref([
    startDate,
    new Date(endDate.setDate(endDate.getDate() + 7)),
  ]),
  time: ref(),
  year: ref(startDate.getFullYear()),
});
</script>

<style lang="css">
.custom-style-input input {
  --dp-background-color: #f3f3f3;
  --dp-border-color: var(--dz-primary-color);
  --dp-border-radius: 0.5em;
  --dp-font-size: 1rem;
  --dp-text-color: var(--dz-primary-color);
}

.custom-style-input .dp--clear-btn {
  --dp-icon-color: var(--dz-primary-color);
}

.custom-style-input .dp__input_icon {
  --dp-icon-color: var(--dz-primary-color);
}

.custom-style-input label {
  --_label-color: var(--dz-primary-color);
}
</style>
